(function(){var f;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function r(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};
function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}ca(this);"function"===typeof Symbol&&Symbol("x");var da;
if("function"==typeof Object.setPrototypeOf)da=Object.setPrototypeOf;else{var ea;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;ea=ha.a;break a}catch(a){}ea=!1}da=ea?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=da;
function ja(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.We=b.prototype}
var ka={UNKNOWN:0,IMPRESSION_PAYWALL:1,IMPRESSION_AD:2,IMPRESSION_OFFERS:3,IMPRESSION_SUBSCRIBE_BUTTON:4,IMPRESSION_SMARTBOX:5,IMPRESSION_SWG_BUTTON:6,IMPRESSION_CLICK_TO_SHOW_OFFERS:7,IMPRESSION_CLICK_TO_SHOW_OFFERS_OR_ALREADY_SUBSCRIBED:8,IMPRESSION_SUBSCRIPTION_COMPLETE:9,IMPRESSION_ACCOUNT_CHANGED:10,IMPRESSION_PAGE_LOAD:11,IMPRESSION_LINK:12,IMPRESSION_SAVE_SUBSCR_TO_GOOGLE:13,IMPRESSION_GOOGLE_UPDATED:14,IMPRESSION_SHOW_OFFERS_SMARTBOX:15,IMPRESSION_SHOW_OFFERS_SWG_BUTTON:16,IMPRESSION_SELECT_OFFER_SMARTBOX:17,
IMPRESSION_SELECT_OFFER_SWG_BUTTON:18,IMPRESSION_SHOW_CONTRIBUTIONS_SWG_BUTTON:19,IMPRESSION_SELECT_CONTRIBUTION_SWG_BUTTON:20,IMPRESSION_METER_TOAST:21,IMPRESSION_REGWALL:22,IMPRESSION_SHOWCASE_REGWALL:23,IMPRESSION_SWG_SUBSCRIPTION_MINI_PROMPT:24,IMPRESSION_SWG_CONTRIBUTION_MINI_PROMPT:25,IMPRESSION_CONTRIBUTION_OFFERS:26,IMPRESSION_TWG_COUNTER:27,IMPRESSION_TWG_SITE_SUPPORTER_WALL:28,IMPRESSION_TWG_PUBLICATION:29,IMPRESSION_TWG_STATIC_BUTTON:30,IMPRESSION_TWG_DYNAMIC_BUTTON:31,IMPRESSION_TWG_STICKER_SELECTION_SCREEN:32,
IMPRESSION_TWG_PUBLICATION_NOT_SET_UP:33,IMPRESSION_REGWALL_OPT_IN:34,IMPRESSION_NEWSLETTER_OPT_IN:35,ACTION_SUBSCRIBE:1E3,ACTION_PAYMENT_COMPLETE:1001,ACTION_ACCOUNT_CREATED:1002,ACTION_ACCOUNT_ACKNOWLEDGED:1003,ACTION_SUBSCRIPTIONS_LANDING_PAGE:1004,ACTION_PAYMENT_FLOW_STARTED:1005,ACTION_OFFER_SELECTED:1006,ACTION_SWG_BUTTON_CLICK:1007,ACTION_VIEW_OFFERS:1008,ACTION_ALREADY_SUBSCRIBED:1009,ACTION_NEW_DEFERRED_ACCOUNT:1010,ACTION_LINK_CONTINUE:1011,ACTION_LINK_CANCEL:1012,ACTION_GOOGLE_UPDATED_CLOSE:1013,
ACTION_USER_CANCELED_PAYFLOW:1014,ACTION_SAVE_SUBSCR_TO_GOOGLE_CONTINUE:1015,ACTION_SAVE_SUBSCR_TO_GOOGLE_CANCEL:1016,ACTION_SWG_BUTTON_SHOW_OFFERS_CLICK:1017,ACTION_SWG_BUTTON_SELECT_OFFER_CLICK:1018,ACTION_SWG_BUTTON_SHOW_CONTRIBUTIONS_CLICK:1019,ACTION_SWG_BUTTON_SELECT_CONTRIBUTION_CLICK:1020,ACTION_USER_CONSENT_DEFERRED_ACCOUNT:1021,ACTION_USER_DENY_DEFERRED_ACCOUNT:1022,ACTION_DEFERRED_ACCOUNT_REDIRECT:1023,ACTION_GET_ENTITLEMENTS:1024,ACTION_METER_TOAST_SUBSCRIBE_CLICK:1025,ACTION_METER_TOAST_EXPANDED:1026,
ACTION_METER_TOAST_CLOSED_BY_ARTICLE_INTERACTION:1027,ACTION_METER_TOAST_CLOSED_BY_SWIPE_DOWN:1028,ACTION_METER_TOAST_CLOSED_BY_X_CLICKED:1029,ACTION_SWG_SUBSCRIPTION_MINI_PROMPT_CLICK:1030,ACTION_SWG_CONTRIBUTION_MINI_PROMPT_CLICK:1031,ACTION_SWG_SUBSCRIPTION_MINI_PROMPT_CLOSE:1032,ACTION_SWG_CONTRIBUTION_MINI_PROMPT_CLOSE:1033,ACTION_CONTRIBUTION_OFFER_SELECTED:1034,ACTION_SHOWCASE_REGWALL_GSI_CLICK:1035,ACTION_SHOWCASE_REGWALL_EXISTING_ACCOUNT_CLICK:1036,ACTION_SUBSCRIPTION_OFFERS_CLOSED:1037,
ACTION_CONTRIBUTION_OFFERS_CLOSED:1038,ACTION_TWG_STATIC_CTA_CLICK:1039,ACTION_TWG_DYNAMIC_CTA_CLICK:1040,ACTION_TWG_SITE_LEVEL_SUPPORTER_WALL_CTA_CLICK:1041,ACTION_TWG_DIALOG_SUPPORTER_WALL_CTA_CLICK:1042,ACTION_TWG_COUNTER_CLICK:1043,ACTION_TWG_SITE_SUPPORTER_WALL_ALL_THANKS_CLICK:1044,ACTION_TWG_PAID_STICKER_SELECTED_SCREEN_CLOSE_CLICK:1045,ACTION_TWG_PAID_STICKER_SELECTION_CLICK:1046,ACTION_TWG_FREE_STICKER_SELECTION_CLICK:1047,ACTION_TWG_MINI_SUPPORTER_WALL_CLICK:1048,ACTION_TWG_CREATOR_BENEFIT_CLICK:1049,
ACTION_TWG_FREE_TRANSACTION_START_NEXT_BUTTON_CLICK:1050,ACTION_TWG_PAID_TRANSACTION_START_NEXT_BUTTON_CLICK:1051,ACTION_TWG_STICKER_SELECTION_SCREEN_CLOSE_CLICK:1052,ACTION_TWG_ARTICLE_LEVEL_SUPPORTER_WALL_CTA_CLICK:1053,ACTION_REGWALL_OPT_IN_BUTTON_CLICK:1054,ACTION_REGWALL_ALREADY_OPTED_IN_CLICK:1055,ACTION_NEWSLETTER_OPT_IN_BUTTON_CLICK:1056,ACTION_NEWSLETTER_ALREADY_OPTED_IN_CLICK:1057,ACTION_REGWALL_OPT_IN_CLOSE:1058,ACTION_NEWSLETTER_OPT_IN_CLOSE:1059,ACTION_SHOWCASE_REGWALL_SWIG_CLICK:1060,
EVENT_PAYMENT_FAILED:2E3,EVENT_REGWALL_OPT_IN_FAILED:2001,EVENT_NEWSLETTER_OPT_IN_FAILED:2002,EVENT_CUSTOM:3E3,EVENT_CONFIRM_TX_ID:3001,EVENT_CHANGED_TX_ID:3002,EVENT_GPAY_NO_TX_ID:3003,EVENT_GPAY_CANNOT_CONFIRM_TX_ID:3004,EVENT_GOOGLE_UPDATED:3005,EVENT_NEW_TX_ID:3006,EVENT_UNLOCKED_BY_SUBSCRIPTION:3007,EVENT_UNLOCKED_BY_METER:3008,EVENT_NO_ENTITLEMENTS:3009,EVENT_HAS_METERING_ENTITLEMENTS:3010,EVENT_OFFERED_METER:3011,EVENT_UNLOCKED_FREE_PAGE:3012,EVENT_INELIGIBLE_PAYWALL:3013,EVENT_UNLOCKED_FOR_CRAWLER:3014,
EVENT_TWG_COUNTER_VIEW:3015,EVENT_TWG_SITE_SUPPORTER_WALL_VIEW:3016,EVENT_TWG_STATIC_BUTTON_VIEW:3017,EVENT_TWG_DYNAMIC_BUTTON_VIEW:3018,EVENT_TWG_PRE_TRANSACTION_PRIVACY_SETTING_PRIVATE:3019,EVENT_TWG_POST_TRANSACTION_SETTING_PRIVATE:3020,EVENT_TWG_PRE_TRANSACTION_PRIVACY_SETTING_PUBLIC:3021,EVENT_TWG_POST_TRANSACTION_SETTING_PUBLIC:3022,EVENT_REGWALL_OPTED_IN:3023,EVENT_NEWSLETTER_OPTED_IN:3024,EVENT_SUBSCRIPTION_STATE:4E3},la={UNKNOWN_CLIENT:0,SWG_CLIENT:1,AMP_CLIENT:2,PROPENSITY_CLIENT:3,SWG_SERVER:4,
PUBLISHER_CLIENT:5,SHOWCASE_CLIENT:6};function t(a,b){a=void 0===a?[]:a;var c=(b=void 0===b?!0:b)?1:0;this.W=null==a[c]?null:a[c]}t.prototype.getComplete=function(){return this.W};t.prototype.setComplete=function(a){this.W=a};t.prototype.toArray=function(a){a=void 0===a?!0:a;var b=[this.W];a&&b.unshift(this.label());return b};t.prototype.label=function(){return"AccountCreationRequest"};function u(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.za=null==a[b]?null:a[b]}u.prototype.getAction=function(){return this.za};
u.prototype.setAction=function(a){this.za=a};u.prototype.toArray=function(a){var b=[this.za];(void 0===a||a)&&b.unshift(this.label());return b};u.prototype.label=function(){return"ActionRequest"};function ma(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.cd=null==a[b]?null:a[b];this.rc=null==a[1+b]?null:a[1+b]}f=ma.prototype;f.getSubscriberOrMember=function(){return this.cd};f.setSubscriberOrMember=function(a){this.cd=a};f.getLinkRequested=function(){return this.rc};
f.setLinkRequested=function(a){this.rc=a};f.toArray=function(a){var b=[this.cd,this.rc];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"AlreadySubscribedResponse"};
function na(a,b){a=void 0===a?[]:a;var c=(b=void 0===b?!0:b)?1:0;this.dc=null==a[c]?null:a[c];this.gd=null==a[1+c]?null:a[1+c];this.Pc=null==a[2+c]?null:a[2+c];this.od=null==a[3+c]?null:a[3+c];this.md=null==a[4+c]?null:a[4+c];this.nd=null==a[5+c]?null:a[5+c];this.D=null==a[6+c]?null:a[6+c];this.Nc=null==a[7+c]?null:a[7+c];this.Ua=a[8+c]||[];this.Xb=null==a[9+c]?null:a[9+c];this.ia=null==a[10+c]?null:a[10+c];this.ib=null==a[11+c]||void 0==a[11+c]?null:new oa(a[11+c],b);this.nc=null==a[12+c]?null:a[12+
c]}f=na.prototype;f.getEmbedderOrigin=function(){return this.dc};f.setEmbedderOrigin=function(a){this.dc=a};f.getTransactionId=function(){return this.gd};f.setTransactionId=function(a){this.gd=a};f.getReferringOrigin=function(){return this.Pc};f.setReferringOrigin=function(a){this.Pc=a};f.getUtmSource=function(){return this.od};f.setUtmSource=function(a){this.od=a};f.getUtmCampaign=function(){return this.md};f.setUtmCampaign=function(a){this.md=a};f.getUtmMedium=function(){return this.nd};
f.setUtmMedium=function(a){this.nd=a};f.getSku=function(){return this.D};f.setSku=function(a){this.D=a};f.getReadyToPay=function(){return this.Nc};f.setReadyToPay=function(a){this.Nc=a};f.getLabelList=function(){return this.Ua};f.setLabelList=function(a){this.Ua=a};f.getClientVersion=function(){return this.Xb};f.setClientVersion=function(a){this.Xb=a};f.getUrl=function(){return this.ia};f.setUrl=function(a){this.ia=a};f.getClientTimestamp=function(){return this.ib};
f.setClientTimestamp=function(a){this.ib=a};f.getIntegrationVersion=function(){return this.nc};f.setIntegrationVersion=function(a){this.nc=a};f.toArray=function(a){a=void 0===a?!0:a;var b=[this.dc,this.gd,this.Pc,this.od,this.md,this.nd,this.D,this.Nc,this.Ua,this.Xb,this.ia,this.ib?this.ib.toArray(a):[],this.nc];a&&b.unshift(this.label());return b};f.label=function(){return"AnalyticsContext"};
function pa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.ic=null==a[b]?null:a[b];this.pc=null==a[1+b]?null:a[1+b]}f=pa.prototype;f.getEventOriginator=function(){return this.ic};f.setEventOriginator=function(a){this.ic=a};f.getIsFromUserAction=function(){return this.pc};f.setIsFromUserAction=function(a){this.pc=a};f.toArray=function(a){var b=[this.ic,this.pc];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"AnalyticsEventMeta"};
function qa(a,b){a=void 0===a?[]:a;var c=(b=void 0===b?!0:b)?1:0;this.C=null==a[c]||void 0==a[c]?null:new na(a[c],b);this.na=null==a[1+c]?null:a[1+c];this.tb=null==a[2+c]||void 0==a[2+c]?null:new pa(a[2+c],b);this.R=null==a[3+c]||void 0==a[3+c]?null:new y(a[3+c],b)}f=qa.prototype;f.getContext=function(){return this.C};f.setContext=function(a){this.C=a};f.getEvent=function(){return this.na};f.setEvent=function(a){this.na=a};f.getMeta=function(){return this.tb};f.setMeta=function(a){this.tb=a};
f.getParams=function(){return this.R};f.setParams=function(a){this.R=a};f.toArray=function(a){a=void 0===a?!0:a;var b=[this.C?this.C.toArray(a):[],this.na,this.tb?this.tb.toArray(a):[],this.R?this.R.toArray(a):[]];a&&b.unshift(this.label());return b};f.label=function(){return"AnalyticsRequest"};function ra(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.na=null==a[b]?null:a[b]}ra.prototype.getEvent=function(){return this.na};ra.prototype.setEvent=function(a){this.na=a};
ra.prototype.toArray=function(a){var b=[this.na];(void 0===a||a)&&b.unshift(this.label());return b};ra.prototype.label=function(){return"AudienceActivityClientLogsRequest"};function sa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.wa=null==a[b]?null:a[b];this.Ob=null==a[1+b]?null:a[1+b];this.ld=null==a[2+b]?null:a[2+b]}f=sa.prototype;f.getSwgUserToken=function(){return this.wa};f.setSwgUserToken=function(a){this.wa=a};f.getActionCompleted=function(){return this.Ob};
f.setActionCompleted=function(a){this.Ob=a};f.getUserEmail=function(){return this.ld};f.setUserEmail=function(a){this.ld=a};f.toArray=function(a){var b=[this.wa,this.Ob,this.ld];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"CompleteAudienceActionResponse"};function ta(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.sa=null==a[b]?null:a[b];this.$c=null==a[1+b]?null:a[1+b]}f=ta.prototype;f.getJwt=function(){return this.sa};f.setJwt=function(a){this.sa=a};f.getSource=function(){return this.$c};
f.setSource=function(a){this.$c=a};f.toArray=function(a){var b=[this.sa,this.$c];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"EntitlementJwt"};function ua(a,b){a=void 0===a?[]:a;var c=(b=void 0===b?!0:b)?1:0;this.Nb=null==a[c]||void 0==a[c]?null:new ta(a[c],b);this.hb=null==a[1+c]||void 0==a[1+c]?null:new oa(a[1+c],b);this.fc=null==a[2+c]?null:a[2+c];this.ec=null==a[3+c]?null:a[3+c];this.xa=null==a[4+c]?null:a[4+c];this.ra=null==a[5+c]?null:a[5+c]}f=ua.prototype;
f.getUsedEntitlement=function(){return this.Nb};f.setUsedEntitlement=function(a){this.Nb=a};f.getClientEventTime=function(){return this.hb};f.setClientEventTime=function(a){this.hb=a};f.getEntitlementSource=function(){return this.fc};f.setEntitlementSource=function(a){this.fc=a};f.getEntitlementResult=function(){return this.ec};f.setEntitlementResult=function(a){this.ec=a};f.getToken=function(){return this.xa};f.setToken=function(a){this.xa=a};f.getIsUserRegistered=function(){return this.ra};
f.setIsUserRegistered=function(a){this.ra=a};f.toArray=function(a){a=void 0===a?!0:a;var b=[this.Nb?this.Nb.toArray(a):[],this.hb?this.hb.toArray(a):[],this.fc,this.ec,this.xa,this.ra];a&&b.unshift(this.label());return b};f.label=function(){return"EntitlementsRequest"};function va(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.sa=null==a[b]?null:a[b];this.wa=null==a[1+b]?null:a[1+b]}f=va.prototype;f.getJwt=function(){return this.sa};f.setJwt=function(a){this.sa=a};f.getSwgUserToken=function(){return this.wa};
f.setSwgUserToken=function(a){this.wa=a};f.toArray=function(a){var b=[this.sa,this.wa];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"EntitlementsResponse"};function y(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Zc=null==a[b]?null:a[b];this.kc=null==a[1+b]?null:a[1+b];this.lc=null==a[2+b]?null:a[2+b];this.D=null==a[3+b]?null:a[3+b];this.Ac=null==a[4+b]?null:a[4+b];this.ra=null==a[5+b]?null:a[5+b];this.dd=null==a[6+b]?null:a[6+b]}f=y.prototype;
f.getSmartboxMessage=function(){return this.Zc};f.setSmartboxMessage=function(a){this.Zc=a};f.getGpayTransactionId=function(){return this.kc};f.setGpayTransactionId=function(a){this.kc=a};f.getHadLogged=function(){return this.lc};f.setHadLogged=function(a){this.lc=a};f.getSku=function(){return this.D};f.setSku=function(a){this.D=a};f.getOldTransactionId=function(){return this.Ac};f.setOldTransactionId=function(a){this.Ac=a};f.getIsUserRegistered=function(){return this.ra};
f.setIsUserRegistered=function(a){this.ra=a};f.getSubscriptionFlow=function(){return this.dd};f.setSubscriptionFlow=function(a){this.dd=a};f.toArray=function(a){var b=[this.Zc,this.kc,this.lc,this.D,this.Ac,this.ra,this.dd];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"EventParams"};function wa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.W=null==a[b]?null:a[b];this.hc=null==a[1+b]?null:a[1+b]}f=wa.prototype;f.getComplete=function(){return this.W};
f.setComplete=function(a){this.W=a};f.getError=function(){return this.hc};f.setError=function(a){this.hc=a};f.toArray=function(a){var b=[this.W,this.hc];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"FinishedLoggingResponse"};function xa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Rb=null==a[b]?null:a[b];this.xa=null==a[1+b]?null:a[1+b]}f=xa.prototype;f.getAuthCode=function(){return this.Rb};f.setAuthCode=function(a){this.Rb=a};f.getToken=function(){return this.xa};
f.setToken=function(a){this.xa=a};f.toArray=function(a){var b=[this.Rb,this.xa];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"LinkSaveTokenRequest"};function ya(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Sc=null==a[b]?null:a[b]}ya.prototype.getRequested=function(){return this.Sc};ya.prototype.setRequested=function(a){this.Sc=a};ya.prototype.toArray=function(a){var b=[this.Sc];(void 0===a||a)&&b.unshift(this.label());return b};ya.prototype.label=function(){return"LinkingInfoResponse"};
function z(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.kd=null==a[b]?null:a[b]}z.prototype.getUrlPath=function(){return this.kd};z.prototype.setUrlPath=function(a){this.kd=a};z.prototype.toArray=function(a){var b=[this.kd];(void 0===a||a)&&b.unshift(this.label());return b};z.prototype.label=function(){return"OpenDialogRequest"};
function za(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.D=null==a[b]?null:a[b];this.zc=null==a[1+b]?null:a[1+b];this.Ec=null==a[2+b]?null:a[2+b];this.Kc=null==a[3+b]?null:a[3+b];this.yc=null==a[4+b]?null:a[4+b];this.ac=null==a[5+b]?null:a[5+b];this.Qb=null==a[6+b]?null:a[6+b]}f=za.prototype;f.getSku=function(){return this.D};f.setSku=function(a){this.D=a};f.getOldSku=function(){return this.zc};f.setOldSku=function(a){this.zc=a};f.getOneTime=function(){return this.Ec};
f.setOneTime=function(a){this.Ec=a};f.getPlayOffer=function(){return this.Kc};f.setPlayOffer=function(a){this.Kc=a};f.getOldPlayOffer=function(){return this.yc};f.setOldPlayOffer=function(a){this.yc=a};f.getCustomMessage=function(){return this.ac};f.setCustomMessage=function(a){this.ac=a};f.getAnonymous=function(){return this.Qb};f.setAnonymous=function(a){this.Qb=a};f.toArray=function(a){var b=[this.D,this.zc,this.Ec,this.Kc,this.yc,this.ac,this.Qb];(void 0===a||a)&&b.unshift(this.label());return b};
f.label=function(){return"SkuSelectedResponse"};function Aa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.oc=null==a[b]?null:a[b]}Aa.prototype.getIsClicked=function(){return this.oc};Aa.prototype.setIsClicked=function(a){this.oc=a};Aa.prototype.toArray=function(a){var b=[this.oc];(void 0===a||a)&&b.unshift(this.label());return b};Aa.prototype.label=function(){return"SmartBoxMessage"};function Ba(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.bd=null==a[b]?null:a[b]}Ba.prototype.getSubscribe=function(){return this.bd};
Ba.prototype.setSubscribe=function(a){this.bd=a};Ba.prototype.toArray=function(a){var b=[this.bd];(void 0===a||a)&&b.unshift(this.label());return b};Ba.prototype.label=function(){return"SubscribeResponse"};function oa(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Wc=null==a[b]?null:a[b];this.wc=null==a[1+b]?null:a[1+b]}f=oa.prototype;f.getSeconds=function(){return this.Wc};f.setSeconds=function(a){this.Wc=a};f.getNanos=function(){return this.wc};f.setNanos=function(a){this.wc=a};
f.toArray=function(a){var b=[this.Wc,this.wc];(void 0===a||a)&&b.unshift(this.label());return b};f.label=function(){return"Timestamp"};function Ca(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.Ba=null==a[b]?null:a[b]}Ca.prototype.getClose=function(){return this.Ba};Ca.prototype.setClose=function(a){this.Ba=a};Ca.prototype.toArray=function(a){var b=[this.Ba];(void 0===a||a)&&b.unshift(this.label());return b};Ca.prototype.label=function(){return"ToastCloseRequest"};
function Da(a,b){a=void 0===a?[]:a;b=void 0===b||b?1:0;this.xc=null==a[b]?null:a[b]}Da.prototype.getNative=function(){return this.xc};Da.prototype.setNative=function(a){this.xc=a};Da.prototype.toArray=function(a){var b=[this.xc];(void 0===a||a)&&b.unshift(this.label());return b};Da.prototype.label=function(){return"ViewSubscriptionsResponse"};
var Ea={AccountCreationRequest:t,ActionRequest:u,AlreadySubscribedResponse:ma,AnalyticsContext:na,AnalyticsEventMeta:pa,AnalyticsRequest:qa,AudienceActivityClientLogsRequest:ra,CompleteAudienceActionResponse:sa,EntitlementJwt:ta,EntitlementsRequest:ua,EntitlementsResponse:va,EventParams:y,FinishedLoggingResponse:wa,LinkSaveTokenRequest:xa,LinkingInfoResponse:ya,OpenDialogRequest:z,SkuSelectedResponse:za,SmartBoxMessage:Aa,SubscribeResponse:Ba,Timestamp:oa,ToastCloseRequest:Ca,ViewSubscriptionsResponse:Da};function Fa(){}f=Fa.prototype;f.getElement=function(){};f.init=function(){};f.resized=function(){};f.whenComplete=function(){};f.shouldFadeBody=function(){};f.hasLoadingIndicator=function(){};function Ga(a,b,c,d){return a.acceptResult().then(function(e){if(e.origin!=b||c&&!e.originVerified||d&&!e.secureChannel)throw Error("channel mismatch");return e.data})};function Ha(a){if(/swg.debug=1/.test(self.location.hash)){var b=Array.prototype.slice.call(arguments,0);b.unshift("[Subscriptions]");Ia.apply(Ia,b)}}function Ia(a){console.log.apply(console,arguments)}function A(a){console.warn.apply(console,arguments)}
function B(a,b,c){var d;if(!a){var e=(b||"Assertion failed").split("%s"),g=e.shift(),h=g,k=[];""!=g&&k.push(g);for(g=2;g<arguments.length;g++){var l=arguments[g];l&&l.tagName&&(d=l);var m=e.shift();k.push(l);var n=m.trim();""!=n&&k.push(n);n=h;var p=(p=l)&&1==p.nodeType?p.tagName.toLowerCase()+(p.id?"#"+p.id:""):p;h=n+(p+m)}g=Error(h);g.fromAssert=!0;g.associatedElement=d;g.messageArray=k;throw g;}};function Ja(a,b){if(!a)return null;var c=a.length||0;if(0<c)for(var d=0;d<c;d++){var e=a[d];if(b(e,d,a))return e}return null};var Ka={"-":"+",_:"/"},La={"+":"-","/":"_","=":""};function Ma(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);B(255>=d,"Characters must be in range [0,255]");b[c]=d}return b}function Na(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(a[c]);return b.join("")}function Oa(a){if("undefined"!==typeof TextDecoder)return(new TextDecoder("utf-8")).decode(a);var b=Na(new Uint8Array(a));return decodeURIComponent(escape(b))}
function Pa(a){return"undefined"!==typeof TextEncoder?(new TextEncoder("utf-8")).encode(a):Ma(unescape(encodeURIComponent(a)))}function Qa(a){var b=atob(a.replace(/[-_]/g,function(c){return Ka[c]}));return Ma(b)}function Ra(a){a=Na(a);return btoa(a).replace(/[+/=]/g,function(b){return La[b]})};function Sa(){var a=Date.now().toString(16),b=a.substring(a.length-8).toUpperCase()+"-",c=0;a=new Uint8Array(23);var d=self.msCrypto?self.msCrypto:self.crypto;if(d&&d.getRandomValues)for(d.getRandomValues(a),d=a.length-1;-1<d;d--)a[d]%=16;else for(d=a.length-1;-1<d;d--)a[d]=Math.floor(16*Math.random());for(d=9;36>d;d++)switch(d){case 13:case 18:case 23:b+="-";break;case 14:b+="4";break;case 19:b+="0123456789ABCDEF"[a[c++]&3|8];break;default:b+="0123456789ABCDEF"[a[c++]]}return b}
function Ta(a){var b,c=null==(b=self.crypto||self.msCrypto)?void 0:b.subtle;return c?c.digest("SHA-512",Pa(a)).then(function(d){for(var e=[],g=new DataView(d),h=0;h<g.byteLength;h+=4){var k=g.getUint32(h).toString(16);e.push(("00000000"+k).slice(-8))}return e.join("")}):(A("Swgjs only works on secure (HTTPS or localhost) pages."),Promise.reject("Swgjs only works on secure (HTTPS or localhost) pages."))};var Ua,Va="Webkit webkit Moz moz ms O o".split(" "),Wa={"align-content":"normal",animation:"none","align-items":"normal","align-self":"auto","alignment-baseline":"auto","backface-visibility":"hidden","background-clip":"border-box","background-image":"none","baseline-shift":"0","block-size":"auto",border:"none","border-collapse":"separate",bottom:"0","box-sizing":"border-box","break-after":"auto","break-before":"auto","break-inside":"auto","buffered-rendering":"auto","caption-side":"top","caret-color":"rgb(51, 51, 51)",
clear:"none",color:"rgb(51, 51, 51)","color-rendering":"auto","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule-color":"rgb(51, 51, 51)","column-rule-style":"none","column-rule-width":"0","column-span":"none","column-width":"auto",contain:"none","counter-increment":"none","counter-reset":"none",cursor:"auto",direction:"inherit",display:"block","empty-cells":"show",filter:"none",flex:"none","flex-flow":"row nowrap","float":"none","flood-color":"rgb(0, 0, 0)","flood-opacity":"1",
font:"none","font-size":"medium","font-family":"",height:"auto",hyphens:"manual","image-rendering":"auto","inline-size":"",isolation:"auto","justify-content":"normal","justify-items":"normal","justify-self":"auto","letter-spacing":"normal","lighting-color":"rgb(255, 255, 255)","line-break":"auto","line-height":"normal","margin-bottom":"0",mask:"none","max-block-size":"none","max-height":"none","max-inline-size":"none","max-width":"none","min-block-size":"none","min-height":"0","min-inline-size":"0",
"min-width":"0","mix-blend-mode":"normal","object-fit":"fill","offset-distance":"none","offset-path":"none","offset-rotate":"auto 0deg",opacity:"1",order:"0",orphans:"2",outline:"none","overflow-anchor":"auto","overflow-wrap":"normal",overflow:"visible",padding:"0",page:"",perspective:"none","pointer-events":"auto",position:"static",quotes:"",resize:"none",right:"0","scroll-behavior":"auto","tab-size":"8","table-layout":"auto","text-align":"start","text-align-last":"auto","text-anchor":"start","text-combine-upright":"none",
"text-decoration":"none","text-indent":"0","text-orientation":"mixed","text-overflow":"clip","text-rendering":"auto","text-shadow":"none","text-size-adjust":"auto","text-transform":"none","text-underline-position":"auto",top:"auto","touch-action":"auto",transform:"none",transition:"none 0s ease 0s","unicode-bidi":"normal","user-select":"auto","vector-effect":"none","vertical-align":"baseline",visibility:"visible","white-space":"normal",widows:"2","word-break":"normal","word-spacing":"0","word-wrap":"normal",
"writing-mode":"horizontal-tb",zoom:"1","z-index":"auto"};function Xa(a,b,c){if(2>b.length?0:0==b.lastIndexOf("--",0))return b;Ua||(Ua=Object.create(null));var d=Ua[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var g=0;g<Va.length;g++){var h=Va[g]+e;if(void 0!==a[h]){e=h;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(Ua[b]=d)}return d}function C(a,b){for(var c in b)a.style.setProperty(Xa(b,c),b[c].toString(),"important")}
function D(a,b,c){(b=Xa(a.style,b,void 0))&&(a.style[b]=c)}function Ya(a,b){for(var c in b)D(a,c,b[c])}function Za(a){for(var b={},c=r(["height"]),d=c.next();!d.done;d=c.next())b[d.value]=null;Ya(a,b)};function E(a,b,c,d){b=a.createElement(b);for(var e in c)"style"==e?Ya(b,c[e]):b.setAttribute(e,c[e]);if(null!=d)if("string"==typeof d)b.textContent=d;else if(d.nodeType)b.appendChild(d);else if("length"in d)for(c=0;c<d.length;c++)b.appendChild(d[c]);else B(!1,"Unsupported content: %s",d);return b}function $a(a,b){var c=E(a.getWin().document,"style",{type:"text/css"});c.textContent=b;a.getHead().appendChild(c)}function ab(a){var b=a.navigator;return/Edge/i.test(b&&b.userAgent)};/*

 Copyright 2017 The Web Activities Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS-IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function bb(a){return a&&"object"==typeof a?"AbortError"===a.name:!1}function cb(a,b){b="AbortError"+(b?": "+b:"");var c=null;if("function"==typeof a.DOMException){var d=a.DOMException;try{c=new d(b,"AbortError")}catch(e){}}c||(c=Error(b),c.name="AbortError",c.code=20);return c}function db(a,b,c,d,e,g){this.code=a;this.data="ok"==a?b:null;this.mode=c;this.origin=d;this.originVerified=e;this.secureChannel=g;this.ok="ok"==a;this.error="failed"==a?Error(String(b)||""):null}var eb;
function fb(a){eb||(eb=document.createElement("a"));eb.href=a;return eb}function gb(a){if(a.origin)return a.origin;var b=a.protocol,c=a.host;"https:"==b&&c.indexOf(":443")==c.length-4?c=c.replace(":443",""):"http:"==b&&c.indexOf(":80")==c.length-3&&(c=c.replace(":80",""));return b+"//"+c}function hb(a){var b=a.indexOf("#");return-1==b?a:a.substring(0,b)}
function ib(a){return a?(/^[?#]/.test(a)?a.slice(1):a).split("&").reduce(function(b,c){var d=c.split("=");c=decodeURIComponent(d[0]||"");d=decodeURIComponent(d[1]||"");c&&(b[c]=d);return b},{}):{}}function jb(a){var b={requestId:a.requestId,returnUrl:a.returnUrl,args:a.args};void 0!==a.origin&&(b.origin=a.origin);void 0!==a.originVerified&&(b.originVerified=a.originVerified);return JSON.stringify(b)}function kb(a,b,c){b.ok?c(b):(a=b.error||cb(a),a.activityResult=b,c(Promise.reject(a)))}
function lb(a){a=a.navigator;return/Trident|MSIE|IEMobile/i.test(a&&a.userAgent)}function mb(a){a=a.navigator;return/Edge/i.test(a&&a.userAgent)}function nb(a){setTimeout(function(){throw a;})}function ob(a,b,c){this.g=a;this.ed=b;this.K=c;this.Je=!0;this.fd=null;this.pd=!1;this.ba=this.Bc=this.ea=this.o=null;this.vd=this.re.bind(this)}f=ob.prototype;f.connect=function(a){if(this.ea)throw Error("already connected");this.ea=a;this.g.addEventListener("message",this.vd)};
f.disconnect=function(){if(this.ea&&(this.ea=null,this.o&&(pb(this.o),this.o=null),this.g.removeEventListener("message",this.vd),this.ba)){for(var a in this.ba){var b=this.ba[a];b.port1&&pb(b.port1);b.port2&&pb(b.port2)}this.ba=null}};f.isConnected=function(){return null!=this.K};f.getTarget=function(){var a=qb(this);if(!a)throw Error("not connected");return a};function qb(a){a.ea&&!a.fd&&(a.fd="function"==typeof a.ed?a.ed():a.ed);return a.fd}
f.getTargetOrigin=function(){if(null==this.K)throw Error("not connected");return this.K};f.sendConnectCommand=function(){var a=lb(this.g)||mb(this.g);this.sendCommand("connect",{acceptsChannel:a})};f.sendStartCommand=function(a){var b=null;this.pd&&"function"==typeof this.g.MessageChannel&&(b=new this.g.MessageChannel);b?(this.sendCommand("start",a,[b.port2]),rb(this,b.port1)):this.sendCommand("start",a)};
f.sendCommand=function(a,b,c){var d={sentinel:"__ACTIVITIES__",cmd:a,payload:b||null};if(this.o)this.o.postMessage(d,c||void 0);else{var e=this.getTarget(),g="connect"==a?null!=this.K?this.K:"*":this.getTargetOrigin();e.postMessage(d,g,c||void 0)}};f.customMessage=function(a){this.sendCommand("msg",a)};f.onCustomMessage=function(a){this.Bc=a};
f.startChannel=function(a){a=a||"";var b=sb(this,a);if(!b.port1){var c=new this.g.MessageChannel;b.port1=c.port1;b.port2=c.port2;b.resolver(b.port1)}b.port2&&(this.sendCommand("cnset",{name:a},[b.port2]),b.port2=null);return b.promise};f.askChannel=function(a){a=a||"";var b=sb(this,a);b.port1||this.sendCommand("cnget",{name:a});return b.promise};
function sb(a,b){a.ba||(a.ba={});var c=a.ba[b];if(!c){var d,e=new Promise(function(g){d=g});c={port1:null,port2:null,resolver:d,promise:e};a.ba[b]=c}return c}function rb(a,b){a.o&&pb(a.o);a.o=b;a.o.onmessage=function(c){var d=c.data,e=d&&d.cmd;d=d&&d.payload||null;e&&a.Ha(e,d,c)}}
f.re=function(a){if(!this.Je||qb(this)==a.source){var b=a.data;if(b&&"__ACTIVITIES__"==b.sentinel){var c=b.cmd;if(!this.o||"connect"==c||"start"==c){var d=a.origin;b=b.payload||null;null==this.K&&"start"==c&&(this.K=d);null==this.K&&a.source&&qb(this)==a.source&&(this.K=d);d==this.K&&this.Ha(c,b,a)}}}};
f.Ha=function(a,b,c){"connect"==a?(this.o&&(pb(this.o),this.o=null),this.pd=b&&b.acceptsChannel||!1,this.ea(a,b)):"start"==a?((c=c.ports&&c.ports[0])&&rb(this,c),this.ea(a,b)):"msg"==a?null!=this.Bc&&null!=b&&this.Bc(b):"cnget"==a?this.startChannel(b.name):"cnset"==a?(a=c.ports[0],b=sb(this,b.name),b.port1=a,b.resolver(a)):this.ea(a,b)};function pb(a){try{a.close()}catch(b){}}
function tb(a,b,c){var d=this;this.l=a;this.ia=b;this.aa=c||null;this.g=this.l.ownerDocument.defaultView;this.K=gb(fb(b));this.Zb=!1;this.Pa=null;this.Yb=new Promise(function(e){d.Pa=e});this.Fb=null;this.$a=new Promise(function(e){d.Fb=e});this.M=null;this.Ib=new Promise(function(e){d.M=e});this.Hb=this.Cc=null;this.v=new ob(this.g,function(){return d.l.contentWindow},this.K)}f=tb.prototype;f.getMode=function(){return"iframe"};
f.connect=function(){var a=this.l;if("isConnected"in a)a=a.isConnected;else{var b=a.ownerDocument&&a.ownerDocument.documentElement;a=b&&b.contains(a)||!1}if(!a)throw Error("iframe must be in DOM");this.v.connect(this.Ha.bind(this));this.l.src=this.ia;return this.Yb};f.disconnect=function(){this.Zb=!1;this.v.disconnect()};f.acceptResult=function(){return this.Ib};f.getTargetWin=function(){return this.l.contentWindow||null};f.message=function(a){this.v.customMessage(a)};f.onMessage=function(a){this.v.onCustomMessage(a)};
f.messageChannel=function(a){return this.v.askChannel(a)};f.whenReady=function(){return this.$a};f.onResizeRequest=function(a){var b=this;this.Cc=a;Promise.resolve().then(function(){null!=b.Hb&&a(b.Hb)})};f.resized=function(){this.Zb&&this.v.sendCommand("resized",{height:this.l.offsetHeight})};
f.Ha=function(a,b){"connect"==a?(this.Zb=!0,this.v.sendStartCommand(this.aa),this.Pa()):"result"==a?this.M&&(a=b.code,b=new db(a,"failed"==a?Error(b.data||""):b.data,"iframe",this.v.getTargetOrigin(),!0,!0),kb(this.g,b,this.M),this.M=null,this.v.sendCommand("close"),this.disconnect()):"ready"==a?this.Fb&&(this.Fb(),this.Fb=null):"resize"==a&&(this.Hb=b.height,this.Cc&&this.Cc(this.Hb))};
function ub(a,b,c,d,e,g){var h=this;if(!d||"_blank"!=d&&"_top"!=d&&"_"==d[0])throw Error('The only allowed targets are "_blank", "_top" and name targets');this.g=a;this.Ie=b;this.ia=c;this.Ud=d;this.aa=e||null;this.$=g||{};this.Pa=null;this.Yb=new Promise(function(k){h.Pa=k});this.M=null;this.Ib=new Promise(function(k){h.M=k});this.v=this.oa=this.ha=null}f=ub.prototype;f.getMode=function(){return"_top"==this.Ud?"redirect":"popup"};f.open=function(){return vb(this)};f.whenConnected=function(){return this.Yb};
f.disconnect=function(){this.oa&&(this.g.clearInterval(this.oa),this.oa=null);this.v&&(this.v.disconnect(),this.v=null);if(this.ha){try{this.ha.close()}catch(a){}this.ha=null}this.M=null};f.getTargetWin=function(){return this.ha};f.acceptResult=function(){return this.Ib};f.message=function(a){this.v.customMessage(a)};f.onMessage=function(a){this.v.onCustomMessage(a)};f.messageChannel=function(a){return this.v.askChannel(a)};
function vb(a){var b=wb(a),c=a.ia;if(!a.$.skipRequestInUrl){var d=a.$.returnUrl||hb(a.g.location.href),e=jb({requestId:a.Ie,returnUrl:d,args:a.aa});c=c+(-1==c.indexOf("#")?"#":"&")+encodeURIComponent("__WA__")+"="+encodeURIComponent(e)}var g=a.Ud;"_top"!=g&&lb(a.g)&&(g="_top");try{var h=a.g.open(c,g,b)}catch(k){}if(!h&&"_top"!=g&&!a.$.disableRedirectFallback){g="_top";try{h=a.g.open(c,g)}catch(k){}}h?(a.ha=h,"_top"!=g&&xb(a)):yb(a,Error("failed to open window"));return a.Ib.catch(function(){})}
function wb(a){var b=a.g.screen,c=b.availWidth||b.width,d=b.availHeight||b.height,e=a.g==a.g.top,g=mb(a.g),h=Math.max(c-(e&&a.g.outerWidth>a.g.innerWidth?Math.min(100,a.g.outerWidth-a.g.innerWidth):g?100:0),.5*c),k=Math.max(d-(e&&a.g.outerHeight>a.g.innerHeight?Math.min(100,a.g.outerHeight-a.g.innerHeight):g?100:0),.5*d),l=Math.floor(Math.min(600,.9*h)),m=Math.floor(Math.min(600,.9*k));a.$.width&&(l=Math.min(a.$.width,h));a.$.height&&(m=Math.min(a.$.height,k));a=Math.floor((b.width-l)/2);b=Math.floor((b.height-
m)/2);l={height:m,width:l,resizable:"yes",scrollbars:"yes"};g||(l.left=a,l.top=b);m="";for(var n in l)m&&(m+=","),m+=n+"="+l[n];return m}function xb(a){a.oa=a.g.setInterval(function(){zb(a,!0)},500);a.v=new ob(a.g,a.ha,null);a.v.connect(a.Ha.bind(a))}function zb(a,b){if(!a.ha||a.ha.closed)a.oa&&(a.g.clearInterval(a.oa),a.oa=null),a.g.setTimeout(function(){try{Ab(a,"canceled",null)}catch(c){yb(a,c)}},b?3E3:0)}function yb(a,b){a.M&&a.M(Promise.reject(b));a.disconnect()}
function Ab(a,b,c){if(a.M){var d=a.v.isConnected();b=new db(b,c,"popup",d?a.v.getTargetOrigin():gb(fb(a.ia)),d,d);kb(a.g,b,a.M);a.M=null}a.v&&a.v.sendCommand("close");a.disconnect()}f.Ha=function(a,b){var c=this;"connect"==a?(this.v.sendStartCommand(this.aa),this.Pa()):"result"==a?(a=b.code,Ab(this,a,"failed"==a?Error(b.data||""):b.data)):"check"==a&&this.g.setTimeout(function(){return zb(c)},200)};function Bb(a,b,c,d,e){this.g=a;this.fe=b;this.ke=c;this.K=d;this.Oe=e}Bb.prototype.getMode=function(){return"redirect"};
Bb.prototype.acceptResult=function(){var a=this,b=new db(this.fe,this.ke,"redirect",this.K,this.Oe,!1);return new Promise(function(c){kb(a.g,b,c)})};function Cb(a){var b=this;this.version="1.24";this.g=a;this.Ed=a.location.hash;this.Qc={};this.J={};this.Yd=null;this.He=new Promise(function(c){b.Yd=c})}f=Cb.prototype;f.openIframe=function(a,b,c){var d=new tb(a,b,c);return d.connect().then(function(){return d})};f.open=function(a,b,c,d,e){return{targetWin:Db(this,a,b,c,d,e).getTargetWin()}};
f.openWithMessaging=function(a,b,c,d,e){var g=Db(this,a,b,c,d,e);return g.whenConnected().then(function(){return g})};
f.onResult=function(a,b){var c=this.Qc[a];c||(c=[],this.Qc[a]=c);c.push(b);var d=this.J[a];if(!d&&this.Ed){try{var e=this.g,g=ib(this.Ed).__WA_RES__;if(g){var h=JSON.parse(g);if(h&&h.requestId==a){var k=e.location.hash;if(k){var l=encodeURIComponent("__WA_RES__")+"=";g=-1;do if(g=k.indexOf(l,g),-1!=g){var m=0<g?k.substring(g-1,g):"";if(""==m||"?"==m||"#"==m||"&"==m){var n=k.indexOf("&",g+1);-1==n&&(n=k.length);k=k.substring(0,g)+k.substring(n+1)}else g++}while(-1!=g&&g<k.length)}var p=k;p=p||"";if(p!=
e.location.hash&&e.history&&e.history.replaceState)try{e.history.replaceState(e.history.state,"",p)}catch(S){}var w=h.code,x=h.data,q=h.origin,v=e.document.referrer&&gb(fb(e.document.referrer));d=new Bb(e,w,x,q,q==v)}else d=null}else d=null}catch(S){nb(S),this.Yd(S)}d&&(this.J[a]=d)}(a=d)&&Eb(a,b)};f.onRedirectError=function(a){this.He.then(a)};function Db(a,b,c,d,e,g){var h=new ub(a.g,b,c,d,e,g);h.open().then(function(){Fb(a,b,h)});return h}
function Eb(a,b){Promise.resolve().then(function(){b(a)})}function Fb(a,b,c){var d=a.Qc[b];d&&d.forEach(function(e){Eb(c,e)});a.J[b]=c};function Gb(a){setTimeout(function(){throw a;})};var Hb={frameborder:"0",scrolling:"no"};function F(a,b,c,d,e,g){e=void 0===e?!1:e;g=void 0===g?!1:g;var h=this;this.g=a;this.h=this.g.document;this.l=E(this.h,"iframe",Hb);this.m=b;this.ad=c;this.aa=d||{};this.Le=e;this.ve=g;this.Vd=this.o=null;this.zb=new Promise(function(k){h.Vd=k})}ja(F,Fa);f=F.prototype;f.getElement=function(){return this.l};f.init=function(a){var b=this;return this.m.openIframe(this.l,this.ad,this.aa).then(function(c){return Ib(b,c,a)})};f.shouldFadeBody=function(){return this.Le};
f.hasLoadingIndicator=function(){return this.ve};function Ib(a,b,c){a.o=b;a.Vd(b);a.o.onResizeRequest(function(d){c.resizeView(a,d)});return a.o.whenReady()}f.on=function(a,b){this.zb.then(function(c){c.on(a,b)})};f.execute=function(a){this.zb.then(function(b){b.execute(a)})};f.acceptResult=function(){return this.zb.then(function(a){return a.acceptResult()})};f.acceptResultAndVerify=function(a,b,c){return this.zb.then(function(d){return Ga(d,a,b,c)})};f.whenComplete=function(){return this.acceptResult()};
f.onCancel=function(a){this.acceptResult().catch(function(b){bb(b)&&a();throw b;})};f.resized=function(){this.o&&this.o.resized()};function Jb(a){return JSON.parse(a)}function Kb(a,b){try{return Jb(a)}catch(c){b&&b(c)}}function Lb(a,b){var c=Kb(a);return c&&c[b]||null};function Mb(){}Mb.prototype.decode=function(a){return Nb(a).payload};function Nb(a){function b(){throw Error('Invalid token: "'+a+'"');}var c=a.split(".");3!=c.length&&b();var d=Qa(c[0]),e=Qa(c[1]);return{header:Kb(Oa(d),b),payload:Kb(Oa(e),b),verifiable:c[0]+"."+c[1],sig:c[2]}};function Ob(a,b,c,d,e,g,h,k){this.service=a;this.raw=b;this.entitlements=c;this.isReadyToPay=h||!1;this.decryptedDocumentKey=k||null;this.Mc=d;this.qd=e;this.yd=g}f=Ob.prototype;f.clone=function(){return new Ob(this.service,this.raw,this.entitlements.map(function(a){return a.clone()}),this.Mc,this.qd,this.yd,this.isReadyToPay,this.decryptedDocumentKey)};f.json=function(){return{service:this.service,entitlements:this.entitlements.map(function(a){return a.json()}),isReadyToPay:this.isReadyToPay}};
f.enablesThisWithCacheableEntitlements=function(){return!!this.getEntitlementForThis()&&!this.enablesThisWithGoogleMetering()&&!this.enablesThisWithGoogleDevMode()};f.enablesThisWithGoogleMetering=function(){var a=this.getEntitlementForThis();return!!a&&"google:metering"===a.source};
f.enablesThisWithGoogleDevMode=function(){var a=this.getEntitlementForThis();if(!a)return!1;var b="google"===a.source&&-1!==a.subscriptionToken.indexOf("GOOGLE_DEV_MODE_ORDER"),c="GOOGLE_DEV_MODE_TOKEN"===a.subscriptionToken;return b||c};f.enablesThis=function(a){return this.enables(this.Mc,a)};f.enablesAny=function(a){for(var b=0;b<this.entitlements.length;b++)if(0<this.entitlements[b].products.length&&(!a||a==this.entitlements[b].source))return!0;return!1};
f.enables=function(a,b){return a?!!this.getEntitlementFor(a,b):!1};f.getEntitlementForThis=function(a){return this.getEntitlementFor(this.Mc,a)};
f.getEntitlementFor=function(a,b){if(!a)return A("SwG needs this article to define a product ID (e.g. example.com:premium). Articles can define a product ID using JSON+LD. SwG can check entitlements after this article defines a product ID."),null;var c=this.entitlements.filter(function(g){return g.enables(a)&&(!b||b===g.source)}),d=Ja(c,function(g){return"google:metering"!==g.source}),e=Ja(c,function(g){return"google:metering"===g.source});return d||e||null};
f.getEntitlementForSource=function(a){if(0<this.entitlements.length)for(var b=0;b<this.entitlements.length;b++)if(this.entitlements[b].subscriptionToken&&a==this.entitlements[b].source)return this.entitlements[b];return null};f.ack=function(){this.qd(this)};f.consume=function(a){this.yd(this,a)};function Pb(a,b,c,d){this.source=a;this.products=b;this.subscriptionToken=c;this.subscriptionTokenContents=d}
Pb.prototype.clone=function(){return new Pb(this.source,this.products.slice(0),this.subscriptionToken,this.subscriptionTokenContents)};Pb.prototype.json=function(){return{source:this.source,products:this.products,subscriptionToken:this.subscriptionToken}};
Pb.prototype.enables=function(a){if(!a)return!1;var b=a.indexOf(":");if(-1!=b){var c=a.substring(0,b+1);if(c+"*"==a&&1<=this.products.filter(function(d){return d.substring(0,b+1)==c}).length)return Ha("enabled with wildcard productId"),!0;if(this.products.includes(c+"*"))return Ha("enabled with wildcard entitlement"),!0}return this.products.includes(a)};
function Qb(a,b){return(Array.isArray(a)?a:[a]).map(function(c){var d=c;d||(d={});c=d.source||"";var e=d.products||[];d=d.subscriptionToken;try{var g=d?b.decode(d):null}catch(h){g=null}return new Pb(c,e,d,g)})}Pb.prototype.getSku=function(){if("google"!==this.source)return null;var a=Lb(this.subscriptionToken,"productId")||null;a||A("Unable to retrieve SKU from SwG subscription token");return a};function Rb(a,b){this.idToken=a;this.data=b;this.id=b.sub;this.email=b.email;this.emailVerified=b.email_verified;this.name=b.name;this.givenName=b.given_name;this.familyName=b.family_name;this.pictureUrl=b.picture}Rb.prototype.clone=function(){return new Rb(this.idToken,this.data)};Rb.prototype.json=function(){return{id:this.id,email:this.email,emailVerified:this.emailVerified,name:this.name,givenName:this.givenName,familyName:this.familyName,pictureUrl:this.pictureUrl}};function Sb(a,b,c,d,e,g,h,k,l,m){h=void 0===h?null:h;k=void 0===k?null:k;l=void 0===l?null:l;m=void 0===m?null:m;this.raw=a;this.purchaseData=b;this.userData=c;this.entitlements=d;this.productType=e;this.wd=g;this.oldSku=h;this.swgUserToken=k;this.paymentRecurrence=l;this.requestMetadata=m}Sb.prototype.clone=function(){return new Sb(this.raw,this.purchaseData,this.userData,this.entitlements,this.productType,this.wd,this.oldSku,this.swgUserToken)};
Sb.prototype.json=function(){return{purchaseData:this.purchaseData.json(),userData:this.userData?this.userData.json():null,entitlements:this.entitlements?this.entitlements.json():null,oldSku:this.oldSku,productType:this.productType,swgUserToken:this.swgUserToken}};Sb.prototype.complete=function(){return this.wd()};function Tb(a,b){this.data=this.raw=a;this.signature=b}Tb.prototype.clone=function(){return new Tb(this.raw,this.signature)};Tb.prototype.json=function(){return{data:this.raw,signature:this.signature}};var Ub,Vb;function G(a){Ub||(Ub=self.document.createElement("a"),Vb=self.UrlCache||(self.UrlCache=Object.create(null)));var b=Vb[a];if(b)return b;var c=Ub;c.href=a;var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:""};d.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;return Vb[a]=d}
function H(a){return a?(/^[?#]/.test(a)?a.slice(1):a).split("&").reduce(function(b,c){c=c.split("=");try{var d=decodeURIComponent(c[0]||""),e=decodeURIComponent(c[1]||"");d&&(b[d]=e)}catch(g){A("SwG could not parse a URL query param: "+c[0])}return b},{}):{}}function I(a,b,c){var d=a.indexOf("?"),e=a.indexOf("#"),g="";-1!=e&&(g=a.substring(e),a=a.substring(0,e));-1==d?a+="?":d<a.length-1&&(a+="&");a+=encodeURIComponent(b)+"="+encodeURIComponent(c);return a+g}
function Wb(a){return(a=a.getRootNode().querySelector("link[rel='canonical']"))&&a.href||""}G(self.window.location.href);G(self.document.referrer);var Xb={zero:0,nocache:1,hr1:36E5,hr12:432E5},Yb={"default":{frontEnd:"https://news.google.com",payEnv:"PRODUCTION",playEnv:"PROD",feCache:"hr1"},prod:{frontEnd:"https://news.google.com",payEnv:"PRODUCTION",playEnv:"PROD",feCache:Xb.hr1},autopush:{frontEnd:"https://subscribe-autopush.sandbox.google.com",payEnv:"PRODUCTION",playEnv:"AUTOPUSH",feCache:Xb.nocache},qual:{frontEnd:"https://subscribe-qual.sandbox.google.com",payEnv:"SANDBOX",playEnv:"STAGING",feCache:Xb.hr1}};
function J(){var a=H(self.location.hash)["swg.mode"];return a&&Yb[a]?Yb[a]:Yb["default"]}function Zb(a){return J().frontEnd+"/swg/_/api/v1"+a}function K(a,b,c,d){b=void 0===b?{}:b;c=void 0===c?!1:c;var e=(d=void 0===d?"":d)?c?"swg/"+d:d+"/swg":"swg";a=I(J().frontEnd+"/"+e+"/_/ui/v1"+a,"_",$b());var g=H(self.location.hash)["swg.boqjsmode"];void 0!==g&&(a=I(a,"jsmode",g));for(var h in b)a=I(a,h,b[h]);return a}function L(a){return Object.assign(a,{_client:"SwG 0.1-1661889034574"})}
function $b(){var a=J().feCache,b=Xb[a];null==b&&(b=1);if(0===b)return"_";var c=Date.now();return String(1>=b?c:Math.floor(c/b))};var ac={IMMEDIATE_WITH_TIME_PRORATION:1},bc={AUTO:1,ONE_TIME:2};function cc(a,b){b=void 0===b?null:b;return new y([,,,,a,,,b])}function dc(a,b){var c="VIRTUAL_GIFT";c=void 0===c?"SUBSCRIPTION":c;this.j=a;this.Ic=a.payClient();this.P=a.pageConfig();this.F=a.dialogManager();this.fa=b;this.Cb=c;this.V=a.analytics();this.B=a.eventManager();this.A=a.clientConfigManager()}
dc.prototype.start=function(){var a=this;return this.A.getClientConfig().then(function(b){var c=b.paySwgVersion,d={skuId:a.fa.skuId,publicationId:a.P.getPublicationId()};c&&(d.swgVersion=c);if(a.fa.oldSku){d.oldSku=a.fa.oldSku;var e=a.fa.replaceSkuProrationMode;d.replaceSkuProrationMode=e?ac[e]:ac.IMMEDIATE_WITH_TIME_PRORATION;a.V.setSku(d.oldSku)}a.fa.oneTime&&(d.paymentRecurrence=bc.ONE_TIME);a.fa.metadata&&(d.metadata=a.fa.metadata);e="UI_CONTRIBUTION"==a.Cb?"contribute":"subscribe";a.j.callbacks().triggerFlowStarted(e,
a.fa);a.B.logSwgEvent(1005,!0,cc(d.skuId));ec=!0;a.Ic.start({apiVersion:1,allowedPaymentMethods:["CARD"],environment:J().payEnv,playEnvironment:J().playEnv,swg:d,i:{startTimeMs:Date.now(),productType:a.Cb}},{forceRedirect:"redirect"==a.j.config().windowOpenMode,forceDisableNative:"2"==c||"3"==c});Promise.resolve()})};
function fc(a){this.g=a.win();this.j=a;this.m=a.activities();this.F=a.dialogManager();this.$a=this.fb=null;this.V=a.analytics();this.B=a.eventManager();this.A=a.clientConfigManager();this.D=null}
function gc(a){var b=a.eventManager();a.payClient().onResponse(function(c){a.entitlementsManager().blockNextNotification();var d=new fc(a),e=hc(a,c,d.complete.bind(d));a.callbacks().triggerPaymentResponse(e);return e.then(function(g){var h=Lb(g.purchaseData.raw,"productId")||null;a.analytics().setSku(h||"");b.logSwgEvent(1001,!0,cc(h||"","UI_CONTRIBUTION"==g.productType?"contribute":"subscribe"));d.start(g)},function(g){if(bb(g))g="UI_CONTRIBUTION"==g.productType?"contribute":"subscribe",a.callbacks().triggerFlowCanceled(g),
a.eventManager().logSwgEvent(1014,!0);else throw a.eventManager().logSwgEvent(2E3,!1),a.jserror().error("Pay failed",g),g;})})}
fc.prototype.start=function(a){var b=this;this.D=Lb(a.purchaseData.raw,"productId")||null;this.B.logSwgEvent(10,!0,cc(this.D||""));this.j.entitlementsManager().reset(!0);var c={publicationId:this.j.pageConfig().getPublicationId(),productType:a.productType,isSubscriptionUpdate:!!a.oldSku,isOneTime:!!a.paymentRecurrence};a.userData&&a.entitlements?(c.idToken=a.userData.idToken,this.j.entitlementsManager().pushNextEntitlements(a.entitlements.raw),a.swgUserToken&&this.j.storage().set("USER_TOKEN",a.swgUserToken,
!0)):c.loginHint=a.userData&&a.userData.email;var d={};if("VIRTUAL_GIFT"===c.productType){Object.assign(d,{productType:c.productType,publicationId:c.publicationId,offerId:this.D,origin:G(this.g.location.href).origin,isPaid:!0,checkOrderStatus:!0});a.requestMetadata&&(d.canonicalUrl=a.requestMetadata.contentId,d.isAnonymous=a.requestMetadata.anonymous,c.contentTitle=a.requestMetadata.contentTitle);a.swgUserToken&&(c.swgUserToken=a.swgUserToken);var e=Lb(a.purchaseData.raw,"orderId")||null;e&&(c.orderId=
e)}this.A.shouldForceLangInIframes()&&(d.hl=this.A.getLanguage());var g=K("/payconfirmiframe",d);return this.fb=this.A.getClientConfig().then(function(h){c.useUpdatedConfirmUi=h.useUpdatedOfferFlows;c.skipAccountCreationScreen=h.skipAccountCreationScreen;return new F(b.g,b.m,g,L(c),!0)}).then(function(h){h.on(va,b.qe.bind(b));h.acceptResult().then(function(){b.F.completeView(h)});b.$a=b.F.openView(h);b.$a.then(function(){b.j.callbacks().triggerPayConfirmOpened(h)});return h})};
fc.prototype.qe=function(a){var b=a.getJwt();b&&this.j.entitlementsManager().pushNextEntitlements(b)};
fc.prototype.complete=function(){var a=this;this.B.logSwgEvent(1002,!0,cc(this.D||""));this.j.entitlementsManager().unblockNextNotification();return Promise.all([this.fb,this.$a,this.A.getClientConfig()]).then(function(b){var c=b[0],d=b[2];if(!d.skipAccountCreationScreen){var e=new t;e.setComplete(!0);c.execute(e)}return c.acceptResult().catch(function(){}).then(function(){d.skipAccountCreationScreen||a.B.logSwgEvent(1003,!0,cc(a.D||""));a.j.entitlementsManager().setToastShown(!0)})})};var ec=!1;
function hc(a,b,c){var d=!ec;ec=!1;return b.then(function(e){var g=void 0;if("object"===typeof e&&e.googleTransactionId){var h=a.analytics().getTransactionId(),k=e.googleTransactionId;if(d){a.analytics().setTransactionId(k);var l=3004}else h===k?l=3001:(g=new y,g.setGpayTransactionId(k),l=3002)}else g=new y,g.setHadLogged(!d),l=3003;a.eventManager().logSwgEvent(l,!0,g);var m=l=null,n="SUBSCRIPTION",p=null,w=null,x=null;e&&("string"==typeof e?m=e:("swgCallbackData"in e?l=e.swgCallbackData:"integratorClientCallbackData"in
e&&(m=e.integratorClientCallbackData),"paymentRequest"in e?(n=e.paymentRequest.swg||{},p=n.oldSku,w=n.paymentRecurrence,x=n.metadata,n=(e.paymentRequest.i||{}).productType||"SUBSCRIPTION"):"productType"in e&&(n=e.productType)));m&&!l&&(m=atob(m))&&(l=Jb(m).swgCallbackData);if(!l)throw Error("unexpected payment response");e=m=JSON.stringify(l);m=new Tb(l.purchaseData,l.purchaseDataSignature);var q;if(q=l.idToken){var v=(new Mb).decode(q);q=new Rb(q,v)}else q=null;v=l;v=v.signedEntitlements?a.entitlementsManager().parseEntitlements(v):
null;return new Sb(e,m,q,v,n,c,p,l.swgUserToken,w,x)})};function ic(a){this.o=a}ic.prototype.acceptResult=function(){return this.o.acceptResult()};function jc(a,b,c,d){this.Y=new tb(a,b,d);this.Ub={};this.j=c}f=jc.prototype;f.whenReady=function(){return this.Y.whenReady()};
f.connect=function(){var a=this;return this.Y.connect().then(function(){a.Y.onMessage(function(b){if(b=b&&b.RESPONSE){var c=a.Ub[b[0]];if(c){a:{var d=b?b[0]:null;if(d&&(d=Ea[d])){b=new d(b);break a}throw Error("Deserialization failed for "+b);}c(b)}}});if(a.j&&a.j.eventManager())a.on(qa,function(b){a.j.eventManager().logEvent({eventType:b.getEvent(),eventOriginator:4,isFromUserAction:b.getMeta().getIsFromUserAction(),additionalParameters:b.getParams()})})})};f.disconnect=function(){this.Y.disconnect()};
f.getMode=function(){return this.Y.getMode()};f.acceptResult=function(){return this.Y.acceptResult()};f.onResizeRequest=function(a){return this.Y.onResizeRequest(a)};f.execute=function(a){this.Y.message({REQUEST:a.toArray()})};f.on=function(a,b){var c=null;try{c=(new a).label()}catch(d){c=null}if(!c)throw Error("Invalid data type");if(this.Ub[c])throw Error("Invalid type or duplicate callback for ",c);this.Ub[c]=b};f.resized=function(){this.Y.resized()};
function kc(a){this.j=a;this.m=new Cb(a.win())}f=kc.prototype;f.addDefaultArguments=function(a){var b=this.j,c=b.pageConfig();b=b.analytics().getContext();return Object.assign({analyticsContext:b.toArray(),publicationId:c.getPublicationId(),productId:c.getProductId(),_client:"SwG 0.1-1661889034574",supportsEventManager:!0},a||{})};function lc(a,b,c,d){var e=new jc(b,c,a.j,d);return e.connect().then(function(){return e})}
f.openIframe=function(a,b,c,d){var e=this;(d=void 0===d?!1:d)&&(c=this.addDefaultArguments(c));return this.j.storage().get("USER_TOKEN",!0).then(function(g){var h=(new URL(b)).searchParams;g&&!h.has("sut")&&(b=I(b,"sut",g));var k=e.j.pageConfig().getPublicationId();k&&!h.has("publicationId")&&(b=I(b,"publicationId",k));return lc(e,a,b,c)})};f.open=function(a,b,c,d,e,g){(void 0===g?0:g)&&(d=this.addDefaultArguments(d));return this.m.open(a,b,c,d,e)};f.onResult=function(a,b){this.m.onResult(a,function(c){b(new ic(c))})};
f.onRedirectError=function(a){this.m.onRedirectError(a)};f.getOriginalWebActivityPorts=function(){return this.m};function mc(a,b){for(var c in a)if(a[c]===b)return!0;return!1};function nc(a,b){return"Event has an invalid "+a+"("+b+")"}
function oc(a){if("[object Object]"!==Object.prototype.toString.call(a))throw Error("Event must be a valid object");if(!mc(ka,a.eventType))throw Error(nc("eventType",a.eventType));if(!mc(la,a.eventOriginator))throw Error(nc("eventOriginator",a.eventOriginator));if("[object Object]"!==Object.prototype.toString.call(a.additionalParameters)&&null!=a.additionalParameters)throw Error(nc("additionalParameters",a.additionalParameters));if(null!=a.isFromUserAction&&"boolean"!==typeof a.isFromUserAction)throw Error(nc("isFromUserAction",
a.isFromUserAction));}function pc(){var a=Promise.resolve();this.sc=[];this.jc=[];this.qc=null;this.Hd=a}f=pc.prototype;f.registerEventListener=function(a){if("function"!==typeof a)throw Error("Event manager listeners must be a function");this.sc.push(a)};f.registerEventFilterer=function(a){if("function"!==typeof a)throw Error("Event manager filterers must be a function");this.jc.push(a)};
f.logEvent=function(a){var b=this;oc(a);this.qc=this.Hd.then(function(){for(var c=0;c<b.jc.length;c++)try{if(1===b.jc[c](a))return Promise.resolve()}catch(d){Ia(d)}for(c=0;c<b.sc.length;c++)try{b.sc[c](a)}catch(d){Ia(d)}return Promise.resolve()})};f.logSwgEvent=function(a,b,c){b=void 0===b?!1:b;this.logEvent({eventType:a,eventOriginator:1,isFromUserAction:b,additionalParameters:void 0===c?null:c})};f.getReadyPromise=function(){return this.Hd};var qc=null;
function rc(a){if(!qc){qc={};var b="replace-subscription,update-google-transaction-id,smartbox,pay-client-redirect";try{var c=H(a.location.hash)["swg.experiments"];c&&(b+=","+c)}catch(v){Gb(v)}for(var d=r(b.split(",")),e=d.next();!e.done;e=d.next()){var g=e.value;if(g=g.trim())try{var h=e=void 0,k=void 0,l=a,m=g,n=qc,p=!1,w=m.indexOf(":");-1==w?(k=m,h=100,p=!1):(k=m.substring(0,w).trim(),m=m.substring(w+1),"c"==m.substring(m.length-1)&&(p=!0,m=m.substring(0,m.length-1)),h=parseInt(m,10));if(isNaN(h))throw Error("invalid fraction");if(99<h)e=!0;else if(1>h)e=!1;
else if(l.sessionStorage){p=p&&20>=h;try{m="subscribe.google.com:e:"+k+":"+h+(p?"c":"");var x=l.sessionStorage.getItem(m);var q="e"==x?"e":"c"==x?"c":null;!q&&100*l.Math.random()<=h*(p?2:1)&&(q=(p?.5>=l.Math.random():1)?"e":"c",l.sessionStorage.setItem(m,q));e=!!q;"c"==q&&(k="c-"+k)}catch(v){e=!1,Gb(v)}}else e=!1;n[k]=e}catch(v){Gb(v)}}}return qc}function M(a,b){return rc(a)[b]||!1}function sc(a){a=rc(a);var b=[],c;for(c in a)a[c]&&b.push(c);return b};function tc(){var a=Date.now();return new oa([Math.floor(a/1E3),a%1E3*1E6],!1)};var uc={opacity:"0",position:"absolute",top:"-10px",left:"-10px",height:"1px",width:"1px"};function vc(a){var b=new wa;b.setComplete(!1);b.setError(a);return b}
function wc(a,b){this.L=b;this.h=a.doc();this.j=a;this.m=a.activities();this.l=E(this.h.getWin().document,"iframe",{});C(this.l,uc);this.h.getBody().appendChild(this.getElement());this.Dd=!1;this.C=new na;xc(this);this.qc=this.Xc=null;this.B=a.eventManager();this.B.registerEventListener(this.Ga.bind(this));this.Mb=0;this.Db=this.rb=null;this.vc=!1;this.bb=null;this.oe=function(){return tc()};this.Xd=!1;this.Od=[]}f=wc.prototype;f.setReadyForLogging=function(){var a=this;this.Xd=!0;this.Od.forEach(function(b){a.Ga(b)})};
f.setTransactionId=function(a){var b=this.C.getTransactionId();this.C.setTransactionId(a);if(null!=b&&b!=a){var c=new y;c.setOldTransactionId(b);this.B.logSwgEvent(3006,!0,c)}};f.getTransactionId=function(){return this.C.getTransactionId()};f.getSku=function(){return this.C.getSku()};f.setSku=function(a){this.C.setSku(a)};f.setUrl=function(a){this.C.setUrl(a)};
f.addLabels=function(a){if(a&&0<a.length){for(var b=[].concat(this.C.getLabelList()),c=r(a),d=c.next();!d.done;d=c.next())d=d.value,-1==b.indexOf(d)&&b.push(d);this.C.setLabelList(b)}};f.getElement=function(){return this.l};
function xc(a){var b=a.C;M(a.h.getWin(),"update-google-transaction-id")?b.setTransactionId(Sa()+".swg"):b.setTransactionId(Sa());b.setReferringOrigin(G(a.h.getWin().document.referrer).origin);b.setClientVersion("SwG 0.1-1661889034574");b.setUrl(Wb(a.h));var c=H(a.h.getWin().location.search),d=c.utm_campaign,e=c.utm_medium;a=c.utm_source;d&&b.setUtmCampaign(d);e&&b.setUtmMedium(e);a&&b.setUtmSource(a)}
f.start=function(){var a=this;this.Xc||(this.addLabels(sc(this.h.getWin())),this.Xc=this.m.openIframe(this.l,K("/serviceiframe"),null,!0).then(function(b){b.on(wa,a.Pb.bind(a));return b.whenReady().then(function(){a.addLabels(sc(a.h.getWin()));return b})},function(b){a.vc=!0;a.Pb(vc("Could not connect ["+b+"]"))}));return this.Xc};f.setReadyToPay=function(a){this.C.setReadyToPay(a)};f.close=function(){this.h.getBody().removeChild(this.getElement())};f.getContext=function(){return this.C};
f.Ga=function(a){var b=this;4E3!==a.eventType&&6!==a.eventOriginator&&(3!==a.eventOriginator&&5!==a.eventOriginator&&2!==a.eventOriginator||!0===this.j.config().enableSwgAnalytics||11===a.eventType&&2===a.eventOriginator)&&(this.Xd?(this.Mb++,this.qc=this.start().then(function(c){var d=new pa;d.setEventOriginator(a.eventOriginator);d.setIsFromUserAction(!!a.isFromUserAction);b.C.setClientTimestamp(b.oe());var e=new qa;e.setEvent(a.eventType);e.setContext(b.C);e.setMeta(d);a.additionalParameters instanceof
y&&e.setParams(a.additionalParameters);c.execute(e);M(b.h.getWin(),"logging-beacon")&&(c=encodeURIComponent(b.j.pageConfig().getPublicationId()),c=Zb("/publication/"+c+"/clientlogs"),b.L.sendBeacon(c,e))})):this.Od.push(a))};
f.Pb=function(a){var b=a&&a.getComplete()||!1;a=a&&a.getError()||"Unknown logging Error";var c="AnalyticsService timed out waiting for a response"===a;b||Ia("Error when logging: "+a);this.Mb--;c||(this.Dd=!0);null!==this.rb&&(0===this.Mb||this.vc||c)&&(null!==this.bb&&(clearTimeout(this.bb),this.bb=null),this.rb(b),this.rb=this.Db=null)};
f.getLoggingPromise=function(){var a=this;if(0===this.Mb||this.vc)return Promise.resolve(!0);if(null===this.Db){this.Db=new Promise(function(c){a.rb=c});var b=this.Pb.bind(this);this.bb=setTimeout(function(){a.bb=null;b(vc("AnalyticsService timed out waiting for a response"))},this.Dd?200:500)}return this.Db};function yc(a){a=void 0===a?{}:a;var b=a.attributionParams,c=a.paySwgVersion,d=a.uiPredicates,e=a.usePrefixedHostPath,g=a.useUpdatedOfferFlows,h=a.skipAccountCreationScreen;this.autoPromptConfig=a.autoPromptConfig;this.paySwgVersion=c;this.usePrefixedHostPath=e||!1;this.useUpdatedOfferFlows=g||!1;this.skipAccountCreationScreen=h||!1;this.uiPredicates=d;this.attributionParams=b}function zc(a,b,c){this.canDisplayAutoPrompt=a;this.canDisplayButton=b;this.purchaseUnavailableRegion=c};function Ac(a){var b=a.readyState;return"loading"!=b&&"uninitialized"!=b}function Bc(a,b){if(Ac(a))b(a);else{var c=!1,d=function(){Ac(a)&&!c&&(b(a),c=!0,a.removeEventListener("readystatechange",d))};a.addEventListener("readystatechange",d)}}function Cc(a){return new Promise(function(b){Bc(a,b)})};function Dc(a){var b=!!a.document;this.g=b?a:a.defaultView;this.h=b?a.document:a}f=Dc.prototype;f.getWin=function(){return this.g};f.getRootNode=function(){return this.h};f.getRootElement=function(){return this.h.documentElement};f.getHead=function(){return this.h.head};f.getBody=function(){return this.h.body};f.isReady=function(){return Ac(this.h)};f.whenReady=function(){return Cc(this.h)};f.addToFixedLayer=function(){return Promise.resolve()};
function Ec(a){return 9===a.nodeType||a.document?new Dc(a):a};var Fc=["GET","POST"],Gc={document:1,text:2};function Hc(a){this.win=a}Hc.prototype.Ta=function(a,b){B("string"==typeof a,"Only URL supported: %s",a);var c=b.credentials;B(void 0===c||"include"==c||"omit"==c,"Only credentials=include|omit support: %s",c);return"document"==b.responseType?Ic(a,b):(this.win.fetch||Ic).apply(null,arguments)};
Hc.prototype.fetch=function(a,b){b=Jc(b);return this.Ta(a,b).catch(function(c){var d=G(a).origin;throw Error("XHR Failed fetching ("+d+"/...): (Note: a CORS error above may indicate that this publisher or domain is not configured in Publisher Center. The CORS error happens becasue 4xx responses do not set CORS headers.)",c&&c.message);}).then(function(c){return Kc(c)})};
function Jc(a){var b=a=a||{};var c=a.method;void 0===c?c="GET":(c=c.toUpperCase(),B(Fc.includes(c),"Only one of %s is currently allowed. Got %s",Fc.join(", "),c));b.method=c;a.headers=a.headers||{};return a}
function Ic(a,b){return new Promise(function(c,d){var e=Lc(b.method||"GET",a);"include"==b.credentials&&(e.withCredentials=!0);b.responseType in Gc&&(e.responseType=b.responseType);if(b.headers)for(var g=r(Object.keys(b.headers)),h=g.next();!h.done;h=g.next())h=h.value,e.setRequestHeader(h,b.headers[h]);e.onreadystatechange=function(){2>e.readyState||(100>e.status||599<e.status?(e.onreadystatechange=null,d(Error("Unknown HTTP status "+e.status))):4==e.readyState&&c(new Mc(e)))};e.onerror=function(){d(Error("Network failure"))};
e.onabort=function(){d(Error("Request aborted"))};"POST"==b.method?e.send(b.body):e.send()})}function Lc(a,b){var c=new XMLHttpRequest;if("withCredentials"in c)c.open(a,b,!0);else throw Error("CORS is not supported");return c}function Kc(a){return new Promise(function(b){if(a.ok)return b(a);b=a.status;var c=Error("HTTP error "+b);c.retriable=415==b||500<=b&&600>b;c.response=a;throw c;})}
function Mc(a){this.ja=a;this.status=this.ja.status;this.ok=200<=this.status&&300>this.status;this.headers=new Nc(a);this.bodyUsed=!1;this.body=null}Mc.prototype.clone=function(){B(!this.bodyUsed,"Body already used");return new Mc(this.ja)};function Oc(a){B(!a.bodyUsed,"Body already used");a.bodyUsed=!0;return Promise.resolve(a.ja.responseText)}Mc.prototype.text=function(){return Oc(this)};Mc.prototype.json=function(){return Oc(this).then(Jb)};Mc.prototype.arrayBuffer=function(){return Oc(this).then(Pa)};
function Nc(a){this.ja=a}Nc.prototype.get=function(a){return this.ja.getResponseHeader(a)};Nc.prototype.has=function(a){return null!=this.ja.getResponseHeader(a)};var Pc=/^(\)\]\}'\n)/;function Qc(a){this.ja=new Hc(a)}Qc.prototype.fetchCredentialedJson=function(a){return this.fetch(a,{method:"GET",headers:{Accept:"text/plain, application/json"},credentials:"include"}).then(function(b){return b.text().then(function(c){var d=c.replace(Pc,"");return Jb(d)})})};
Qc.prototype.sendPost=function(a,b){b={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:"f.req="+JSON.stringify(b.toArray(!1))};return this.fetch(a,b).then(function(c){return c?c.text().then(function(d){try{var e=d.replace(Pc,"");return Jb(e)}catch(g){return Gb(g),{}}}):{}})};Qc.prototype.fetch=function(a,b){return this.ja.fetch(a,b)};
Qc.prototype.sendBeacon=function(a,b){navigator.sendBeacon?(b=new Blob(["f.req="+JSON.stringify(b.toArray(!1))],{type:"application/x-www-form-urlencoded;charset=UTF-8"}),navigator.sendBeacon(a,b)):this.sendPost(a,b)};function Rc(a,b,c){this.h=a;this.j=b;this.L=c;this.$b=null;this.Qa=0;this.Gd=!1}Rc.prototype.init=function(){var a=this.h.getHead();a&&(a.querySelector('link[href="https://news.google.com/thank/js/v1/button.css"]')||a.appendChild(E(this.h.getWin().document,"link",{rel:"stylesheet",type:"text/css",href:"https://news.google.com/thank/js/v1/button.css"})))};function Sc(a,b){var c=document.createElement("div");a.parentNode.insertBefore(c,a);b.parentNode.insertBefore(a,b);c.parentNode.insertBefore(b,c);c.parentNode.removeChild(c)}
function Tc(a,b,c,d,e){Uc(a,b,1039,c);b.classList.add("twg-thank-button");b.setAttribute("role","button");b.style.visibility="visible";b.classList.add("twg-theme--"+a.j.getColorTheme());var g=document.createElement("div"),h=document.createElement("div");h.classList.add("example-one");var k=document.createElement("div");k.classList.add("example-two");var l="";d&&(l='<img class="thank-button-avatar" src="$avatarUrl$">'.replace("$avatarUrl$",d),l+='<div class="thank-button-icon"></div>');l+='\n  <div class="thank-button-label">Thank the creator</div>\n'.replace("$displayName$",
e);g.classList.add("thank-button-left");g.innerHTML=l;b.append(g);b.append(h);b.append(k);a.j.eventManager().logSwgEvent(30,void 0);a.j.addViewDetectionHandler(b,3017)}function Vc(a){return 0===a.Qa?"Be the first to give thanks":a.Qa+" Thanks"}
function Wc(a){a.Gd=!0;var b=a.j.pageConfig().getPublicationId(),c="/publication/"+encodeURIComponent(b)+"/orderrecordsaggregate";c=I(c,"canonical_url",a.j.canonicalUrl());return a.L.fetchCredentialedJson(Zb(c)).then(function(d){return d.orderRecordCount})}
Rc.prototype.attachButtonsAndCounter=function(a,b,c){var d=this;c=void 0===c?null:c;return this.j.clientConfigManager().getClientConfig().then(function(e){var g="",h="";e&&e.attributionParams&&(g=e.attributionParams.avatarUrl||"",h=e.attributionParams.displayName||"");var k=d.h.getRootNode().querySelectorAll("button[twg-button]"),l=d.h.getRootNode().querySelector("div[counter-button]");l&&0<k.length&&Sc(l,k[0]);c&&(e=document.createElement("button"),e.setAttribute("twg-button",""),c.append(e),k=[e]);
for(e=0;e<k.length;e++)0!==k[e].childNodes.length||M(d.h.getWin(),"twg_floating_tooltip_cta_experiment")||M(d.h.getWin(),"twg_floating_tooltip_cta_experiment_no_delay")||M(d.h.getWin(),"twg_floating_tooltip_cta_experiment_long_delay")||M(d.h.getWin(),"twg_pop_up_drawer_cta_experiment")||"high"===d.j.getPromptSettings().floatingPromptProminence||Tc(d,k[e],a,g,h);if(null!==l&&!d.Gd)return Wc(d).then(function(m){d.Qa=m;if(!(0<l.childNodes.length)){m=document.createElement("div");m.classList.add("counter-button");
m.setAttribute("role","button");m.classList.add("twg-theme--"+d.j.getColorTheme());Uc(d,m,1043,b);l.append(m);l.style.visibility="visible";var n=""+'\n  <div class="counter-icon"></div>\n  <div class="counter-label"><div>$counterText$</div></div>\n'.replace("$counterText$",Vc(d));m.innerHTML=n;d.$b=m;d.j.eventManager().logSwgEvent(27,void 0);d.j.addViewDetectionHandler(l,3015)}})})};
Rc.prototype.incrementCounter=function(){this.Qa+=1;this.$b&&(this.$b.innerHTML='\n  <div class="counter-icon"></div>\n  <div class="counter-label"><div>$counterText$</div></div>\n'.replace("$counterText$",Vc(this)))};function Uc(a,b,c,d){b.addEventListener("click",function(){a.j.eventManager().logSwgEvent(c,!0);"function"===typeof d&&d()})};function Xc(){this.N={};this.J={};this.Fe=null}f=Xc.prototype;f.setOnEntitlementsResponse=function(a){N(this,1,a)};f.triggerEntitlementsResponse=function(a){return O(this,1,a.then(function(b){return b.clone()}))};f.hasEntitlementsResponsePending=function(){return!!this.J[1]};f.setOnLoginRequest=function(a){N(this,4,a)};f.triggerLoginRequest=function(a){return O(this,4,a)};f.setOnLinkProgress=function(a){N(this,5,a)};f.triggerLinkProgress=function(){return O(this,5,!0)};
f.resetLinkProgress=function(){5 in this.J&&delete this.J[5]};f.setOnLinkComplete=function(a){N(this,6,a)};f.triggerLinkComplete=function(){return O(this,6,!0)};f.hasLinkCompletePending=function(){return!!this.J[6]};f.setOnPayConfirmOpened=function(a){N(this,9,a)};f.triggerPayConfirmOpened=function(a){return O(this,9,a)};f.setOnSubscribeRequest=function(a){N(this,2,a)};f.triggerSubscribeRequest=function(){return O(this,2,!0)};f.hasSubscribeRequestCallback=function(){return!!this.N[2]};
f.setOnOffersFlowRequest=function(a){N(this,10,a)};f.triggerOffersFlowRequest=function(){return O(this,10,!0)};f.hasOffersFlowRequestCallback=function(){return!!this.N[10]};f.setOnSubscribeResponse=function(a){A("[swg.js:setOnSubscribeResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'");N(this,3,a)};
f.setOnContributionResponse=function(a){A("[swg.js:setOnContributionResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'");N(this,3,a)};f.setOnPaymentResponse=function(a){N(this,3,a)};f.triggerPaymentResponse=function(a){var b=this;this.Fe=a.then(function(c){O(b,3,Promise.resolve(c.clone()))},function(c){if(!bb(c))throw c;});return!!this.N[3]};f.hasPaymentResponsePending=function(){return!!this.J[3]};f.setOnFlowStarted=function(a){N(this,7,a)};
f.triggerFlowStarted=function(a,b){b=void 0===b?{}:b;return O(this,7,{flow:a,data:b})};f.setOnFlowCanceled=function(a){N(this,8,a)};f.triggerFlowCanceled=function(a,b){b=void 0===b?{}:b;return O(this,8,{flow:a,data:b})};function N(a,b,c){a.N[b]&&A("[swg.js]: You have registered multiple callbacks for the same response.");a.N[b]=c;b in a.J&&Yc(a,b,c,a.J[b])}function O(a,b,c){a.J[b]=c;var d=a.N[b];d&&Yc(a,b,d,c);return!!d}
function Yc(a,b,c,d){Promise.resolve().then(function(){c(d);b in a.J&&delete a.J[b]})};function Zc(a,b){this.displayName=a;this.avatarUrl=b};function $c(a){a=void 0===a?{}:a;var b=a.dismissalBackOffSeconds,c=a.maxDismissalsPerWeek,d=a.maxDismissalsResultingHideSeconds,e=a.impressionBackOffSeconds,g=a.maxImpressions,h=a.maxImpressionsResultingHideSeconds;this.clientDisplayTrigger=new ad(a.displayDelaySeconds);this.explicitDismissalConfig=new bd(b,c,d);this.impressionConfig=new cd(e,g,h)}function ad(a){this.displayDelaySeconds=a}
function bd(a,b,c){this.backOffSeconds=a;this.maxDismissalsPerWeek=b;this.maxDismissalsResultingHideSeconds=c}function cd(a,b,c){this.backOffSeconds=a;this.maxImpressions=b;this.maxImpressionsResultingHideSeconds=c};function dd(a,b,c,d){this.j=a;this.T=d||{};this.S=b;this.L=c;this.G=null;this.le=new yc({skipAccountCreationScreen:this.T.skipAccountCreationScreen})}f=dd.prototype;f.fetchClientConfig=function(a){var b=this;if(!this.S)throw Error("fetchClientConfig requires publicationId");this.G||(a=a||Promise.resolve(),this.G=a.then(function(){return b.Ta()}));return this.G};f.getClientConfig=function(){return this.G||Promise.resolve(this.le)};f.getAutoPromptConfig=function(){this.G||this.fetchClientConfig();return this.G.then(function(a){return a.autoPromptConfig})};
f.getLanguage=function(){return this.T.lang||"en"};f.getTheme=function(){return this.T.theme||"light"};f.shouldForceLangInIframes=function(){return!!this.T.forceLangInIframes&&!!this.T.lang};f.shouldEnableButton=function(){if(this.T.disableButton)return Promise.resolve(!1);this.G||this.fetchClientConfig();return this.G.then(function(a){var b;return(null==(b=a.uiPredicates)?0:b.canDisplayButton)?!0:!1})};
f.Ta=function(){var a=this;return this.j.entitlementsManager().getArticle().then(function(b){if(b)return ed(a,b.clientConfig);var c=Zb("/publication/"+encodeURIComponent(a.S)+"/clientconfiguration");return a.L.fetchCredentialedJson(c).then(function(d){if(d.errorMessages&&0<d.errorMessages.length)for(var e=r(d.errorMessages),g=e.next();!g.done;g=e.next())A("SwG ClientConfigManager: "+g.value);return ed(a,d)})})};
function ed(a,b){var c=b.paySwgVersion,d=b.autoPromptConfig,e=void 0;if(d){var g,h,k,l,m,n,p;e=new $c({displayDelaySeconds:null==(g=d.clientDisplayTrigger)?void 0:g.displayDelaySeconds,dismissalBackOffSeconds:null==(h=d.explicitDismissalConfig)?void 0:h.backOffSeconds,maxDismissalsPerWeek:null==(k=d.explicitDismissalConfig)?void 0:k.maxDismissalsPerWeek,maxDismissalsResultingHideSeconds:null==(l=d.explicitDismissalConfig)?void 0:l.maxDismissalsResultingHideSeconds,impressionBackOffSeconds:null==(m=
d.impressionConfig)?void 0:m.backOffSeconds,maxImpressions:null==(n=d.impressionConfig)?void 0:n.maxImpressions,maxImpressionsResultingHideSeconds:null==(p=d.impressionConfig)?void 0:p.maxImpressionsResultingHideSeconds})}var w=b.uiPredicates;g=void 0;w&&(g=new zc(w.canDisplayAutoPrompt,w.canDisplayButton,w.purchaseUnavailableRegion));var x=b.attributionParams,q;x&&(q=new Zc(x.displayName,x.avatarUrl));return new yc({autoPromptConfig:e,paySwgVersion:c,usePrefixedHostPath:b.usePrefixedHostPath,useUpdatedOfferFlows:b.useUpdatedOfferFlows,
skipAccountCreationScreen:a.T.skipAccountCreationScreen,uiPredicates:g,attributionParams:q})};var fd={frameborder:0,scrolling:"no",src:"about:blank"};function gd(a,b){var c=this;b=void 0===b?{}:b;var d=Object.assign({},fd,b);this.l=E(a,"iframe",d);C(this.l,Wa);this.Gb=new Promise(function(e){c.l.onload=e})}f=gd.prototype;f.whenReady=function(){return this.Gb};f.getElement=function(){return this.l};f.getDocument=function(){var a=this.getElement().contentDocument||this.getElement().contentWindow&&this.getElement().contentWindow.document;if(!a)throw Error("not loaded");return a};f.getBody=function(){return this.getDocument().body};
f.isConnected=function(){var a=this.getElement();if("isConnected"in a)a=a.isConnected;else{var b=a.ownerDocument&&a.ownerDocument.documentElement;a=b&&b.contains(a)||!1}return a};function P(a,b,c){var d=a.ownerDocument.defaultView,e=a.style.transition||"";return(new Promise(function(g){d.setTimeout(function(){d.setTimeout(g,c);var h=c+"ms ease-out";C(a,Object.assign({transition:"transform "+h+", opacity "+h},b))})})).then(function(){C(a,{transition:e})})};function hd(a,b){this.h=a;this.U=this.h.getWin().document.createElement("swg-popup-background");C(this.U,{"z-index":b,display:"none","pointer-events":"none",position:"fixed",top:0,right:0,bottom:0,left:0,"background-color":"rgba(32, 33, 36, .6)"})}f=hd.prototype;f.getElement=function(){return this.U};f.isAttached=function(){return!!this.U.parentNode};f.attach=function(){this.h.getBody().appendChild(this.U)};f.destroy=function(){this.h.getBody().removeChild(this.U)};
f.show=function(a){a=void 0===a?!0:a;C(this.U,{display:"block",opacity:a?0:1});if(a)return P(this.U,{opacity:1},300)};f.hide=function(a){var b=this;if(void 0===a||a)return P(this.U,{opacity:0},300).then(function(){C(b.U,{display:"none"})});C(this.U,{display:"none"})};function id(a,b){b=void 0===b?{}:b;this.h=a;this.Ia=E(this.h,"swg-loading-container",{});if(b.additionalClasses)for(a=r(b.additionalClasses),b=a.next();!b.done;b=a.next())this.Ia.classList.add(b.value);this.Nd=E(this.h,"swg-loading",{});this.Ia.appendChild(this.Nd);this.Ia.style.setProperty("display","none","important");b=this.Nd;a=E(this.h,"swg-loading-animate",{});b.appendChild(a);b=E(this.h,"swg-loading-image",{});a.appendChild(b)}id.prototype.getElement=function(){return this.Ia};
id.prototype.show=function(){this.Ia.style.removeProperty("display")};id.prototype.hide=function(){this.Ia.style.setProperty("display","none","important")};var jd={"min-height":"50px",border:"none",display:"block",position:"fixed","z-index":2147483647,"box-sizing":"border-box"},kd={position:"absolute",top:"0",left:"0",right:"0",bottom:"0",opacity:0,height:0,"max-height":"100%","max-width":"100%","min-height":"100%","min-width":"100%",width:0};
function ld(a,b,c){var d={};b=void 0===b?{}:b;d=void 0===d?{}:d;c=void 0===c?{}:c;this.h=a;var e=c.desktopConfig||{},g="swg-dialog "+(e.supportsWideScreen?"swg-wide-dialog":""),h=c.iframeCssClassOverride||g;this.l=new gd(a.getWin().document,{"class":h});this.da=new hd(a,2147483646);var k=Object.assign({},jd,b);C(this.l.getElement(),k);Ya(this.l.getElement(),d);this.la=this.La=this.lb=this.Va=null;this.sd=0;this.qb=!1;this.Bb=null;this.Pd=void 0!==c.maxAllowedHeightRatio?c.maxAllowedHeightRatio:.9;
this.Lc=!!e.isCenterPositioned;this.Ke=!!c.shouldDisableBodyScrolling;this.bc=this.h.getWin().matchMedia("(min-width: 641px)");this.mb=null}f=ld.prototype;f.open=function(a){var b=this;a=void 0===a?!1:a;var c=this.l;if(c.isConnected())throw Error("already opened");this.h.getBody().appendChild(c.getElement());this.da.attach();a?(C(c.getElement(),{visibility:"hidden",opacity:0}),this.qb=a):md(this);return c.whenReady().then(function(){nd(b);return b})};
f.openInContainer=function(a){var b=this,c=this.l;if(c.isConnected())throw Error("already opened");a.appendChild(c.getElement());return c.whenReady().then(function(){nd(b);return b})};
function nd(a){var b=a.l.getBody(),c=a.l.getDocument();$a(Ec(c),"body{padding:0;margin:0}swg-container,swg-loading,swg-loading-animate,swg-loading-image{display:block}swg-loading-container{width:100%!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important;min-height:148px!important;height:100%!important;bottom:0!important;margin-top:5px!important;z-index:2147483647!important}@media (min-height:630px), (min-width:630px){swg-loading-container{width:560px!important;margin-left:auto!important;margin-right:auto!important;border-top-left-radius:8px!important;border-top-right-radius:8px!important;background-color:#fff!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important}swg-loading-container.centered-on-desktop{height:120px!important;min-height:120px!important;border-radius:8px!important}}swg-loading{z-index:2147483647!important;width:36px;height:36px;overflow:hidden;animation:mspin-rotate 1568.63ms linear infinite}swg-loading-animate{animation:mspin-revrot 5332ms steps(4) infinite}swg-loading-image{background-image:url(https://news.google.com/thank/js/v1/loader.svg);background-size:100%;width:11664px;height:36px;animation:swg-loading-film 5332ms steps(324) infinite}@keyframes swg-loading-film{0%{transform:translateX(0)}to{transform:translateX(-11664px)}}@keyframes mspin-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes mspin-revrot{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}\n/*# sourceURL=/./third_party/swg-js/src/ui/ui.css*/");var d=
[];a.isPositionCenterOnDesktop()&&d.push("centered-on-desktop");a.Va=new id(c,{additionalClasses:d});b.appendChild(a.Va.getElement());a.lb=E(c,"swg-container",{});b.appendChild(a.lb);od(a);a.Lc&&(a.mb=function(){od(a)},a.bc.addListener(a.mb))}
f.close=function(a){var b=this;if(void 0===a||a){var c=pd(this)?{opacity:0}:{transform:"translateY(100%)"};var d=this.ka(function(){b.da.hide(!0);return P(b.getElement(),c,300)})}else d=Promise.resolve();this.h.getBody().classList.remove("swg-disable-scroll");return d.then(function(){var e=b.l.getElement();e.parentNode.removeChild(e);qd(b);b.da.destroy();b.mb&&b.bc.removeListener(b.mb)})};f.getContainer=function(){if(!this.lb)throw Error("not opened yet");return this.lb};f.getIframe=function(){return this.l};
f.getElement=function(){return this.l.getElement()};f.getLoadingView=function(){return this.Va};f.getMaxAllowedHeightRatio=function(){return this.Pd};f.isPositionCenterOnDesktop=function(){return this.Lc};f.getCurrentView=function(){return this.La};
f.openView=function(a){var b=this;C(a.getElement(),kd);this.La&&this.La.hasLoadingIndicator()?this.Bb=this.La:(this.getContainer().textContent="",this.Va.show());this.La=a;this.getContainer().appendChild(a.getElement());this.Ke&&this.h.getBody().classList.add("swg-disable-scroll");a.shouldFadeBody()&&!this.qb&&this.da.show(!0);return a.init(this).then(function(){C(a.getElement(),{opacity:1});b.qb&&(a.shouldFadeBody()&&b.da.show(!0),md(b));if(b.Bb){var c=b.Bb.getElement();c.parentElement&&c.parentElement.removeChild(c);
b.Bb=null}else b.Va.hide()})};function md(a){a.ka(function(){C(a.getElement(),{transform:"translateY(100%)",opactiy:1,visibility:"visible"});return P(a.getElement(),{transform:rd(a),opacity:1,visibility:"visible"},300).then(function(){a.getElement().focus()})});a.qb=!1}
f.resizeView=function(a,b,c){function d(){return h!==e.sd}var e=this;c=void 0===c?!0:c;if(this.La!=a)return null;var g=Math.min(b,this.h.getWin().innerHeight*this.Pd),h=++this.sd;if(c){var k=this.getElement().offsetHeight;c=g>=k?this.ka(function(){if(d())return Promise.resolve();var l={height:g+"px"};pd(e)||(l.transform="translateY("+(g-k)+"px)");C(e.getElement(),l);return P(e.getElement(),{transform:rd(e)},300)}):this.ka(function(){return(d()?Promise.resolve():P(e.getElement(),{transform:pd(e)?rd(e):
"translateY("+(k-g)+"px)"},300)).then(function(){d()||C(e.getElement(),{height:g+"px",transform:rd(e)})})})}else C(this.getElement(),{height:g+"px"}),c=Promise.resolve();return c.then(function(){if(!d()){if(pd(e))qd(e);else{var l=b+20,m=e.h.getRootElement();C(m,{"padding-bottom":l+"px"})}a.resized()}})};f.ka=function(a){var b=this;return this.la=(this.la||Promise.resolve()).then(function(){return a()},function(){}).then(function(){b.la=null})};
function qd(a){a.h.getRootElement().style.removeProperty("padding-bottom")}function od(a){var b=a.getElement();a=pd(a)?{top:"50%",bottom:0,transform:rd(a)}:{top:"auto",bottom:0,transform:rd(a)};C(b,a)}function pd(a){return a.Lc&&a.bc.matches}function rd(a){return pd(a)?"translateY(-50%)":"translateY(0px)"};function sd(a){var b=this;this.h=a;this.ub=this.ca=null;this.ta=new hd(a,2147483647);this.xb=null;this.ta.getElement().addEventListener("click",function(){if(b.xb)try{b.xb.focus()}catch(c){}})}f=sd.prototype;f.openDialog=function(a,b){a=void 0===a?!1:a;b=void 0===b?{}:b;this.ub||(this.ca=new ld(this.h,{},b),this.ub=this.ca.open(a));return this.ub};f.openView=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?{}:c;this.handleCancellations(a);return this.openDialog(b,c).then(function(d){return d.openView(a)})};
f.handleCancellations=function(a){var b=this;return a.whenComplete().catch(function(c){bb(c)&&b.completeView(a);throw c;})};f.completeView=function(a){var b=this;setTimeout(function(){b.ca&&b.ca.getCurrentView()==a&&b.Ba()},100)};f.completeAll=function(){this.ca&&this.Ba();this.ta.isAttached()&&this.ta.destroy()};f.getDialog=function(){return this.ca};f.Ba=function(){this.ca.close();this.ub=this.ca=null};f.popupOpened=function(a){this.xb=a||null;this.ta.isAttached()||this.ta.attach();this.ta.show()};
f.popupClosed=function(){this.xb=null;try{this.ta.hide()}catch(a){}};var td={},ud=(td[1]="/metertoastiframe",td[2]="/meteriframe",td);function vd(a,b){b=void 0===b?{}:b;var c=void 0===b.meterClientType?1:b.meterClientType,d=void 0===b.meterClientUserAttribute?"anonymous_user":b.meterClientUserAttribute;this.j=a;this.g=a.win();this.m=a.activities();this.F=a.dialogManager();this.Qd=c;this.ze=d;this.Xa=null;this.Wa=!1;this.Vc=null}
vd.prototype.start=function(){var a=this,b={isClosable:!0,hasSubscriptionCallback:this.j.callbacks().hasSubscribeRequestCallback()};2===this.Qd&&(b.meterType="anonymous_user"===this.ze?"UNKNOWN":"KNOWN");var c=this.m.addDefaultArguments(b),d,e=ud[null!=(d=this.Qd)?d:1];this.u=new F(this.g,this.m,K(e,{origin:G(this.g.location.href).origin}),c,!1);this.va=function(){var g=new Ca;g.setClose(!0);a.u.execute(g);a.removeCloseEventListener();a.j.eventManager().logSwgEvent(1027,!0);a.Xa&&!a.Wa&&(a.Wa=!0,
a.Xa())};this.j.callbacks().triggerFlowStarted("showMeterToast");this.u.on(Da,this.Ne.bind(this));this.j.callbacks().hasSubscribeRequestCallback()||this.j.callbacks().hasOffersFlowRequestCallback()||A("[swg.js]: `setOnNativeSubscribeRequest` has not been set before starting the metering flow, so users will not be able to subscribe from the metering dialog directly. Please call `setOnNativeSubscribeRequest` with a subscription flow callback before starting metering.");this.F.handleCancellations(this.u).catch(function(g){a.Xa&&
!a.Wa&&(a.Wa=!0,a.Xa());if(!bb(g))throw console.error("[swg.js]: Error occurred during meter toast handling: "+g),g;});return this.F.openDialog().then(function(g){wd(a);xd(a);return g.openView(a.u).then(function(){a.g.addEventListener("click",a.va);a.g.addEventListener("touchstart",a.va);a.g.addEventListener("mousedown",a.va);if(yd(a))D(a.g.document.body,"overflow","hidden");else{var h,k;a.Vc=function(){h=h||a.g.pageYOffset;a.g.clearTimeout(k);k=a.g.setTimeout(function(){100<Math.abs(a.g.pageYOffset-
h)&&a.va()},100)};a.g.addEventListener("scroll",a.Vc)}a.j.eventManager().logSwgEvent(21);a.j.eventManager().logSwgEvent(3011)})})};vd.prototype.setOnConsumeCallback=function(a){this.Xa=a};vd.prototype.removeCloseEventListener=function(){this.g.removeEventListener("click",this.va);this.g.removeEventListener("touchstart",this.va);this.g.removeEventListener("mousedown",this.va);yd(this)?D(this.g.document.body,"overflow","visible"):this.g.removeEventListener("scroll",this.Vc)};
function wd(a){var b=a.g.matchMedia("(max-width: 640px), (max-height: 640px)"),c=a.F.getDialog().getElement();b.matches&&C(c,{"box-shadow":"rgba(60, 64, 67, 0.3) 0px -2px 5px, rgba(60, 64, 67, 0.15) 0px -5px 5px"});b.addListener(function(d){d.matches?C(c,{"box-shadow":"rgba(60, 64, 67, 0.3) 0px -2px 5px, rgba(60, 64, 67, 0.15) 0px -5px 5px"}):C(c,{"box-shadow":""})})}
function xd(a){a.g.matchMedia("(min-width: 640px) and (min-height: 640px)").matches&&(a=a.F.getDialog().getLoadingView().getElement(),C(a,{width:"420px",margin:"auto"}))}vd.prototype.Ne=function(a){this.removeCloseEventListener();this.Wa=!0;a.getNative()?this.j.callbacks().triggerSubscribeRequest():this.j.callbacks().triggerOffersFlowRequest()};function yd(a){return!!a.g.navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i)};var zd={height:0},Ad={frameborder:"0",scrolling:"no","class":"swg-toast"};function Q(a,b,c){var d=this;this.h=a.doc();this.m=a.activities();this.ad=b;this.aa=c||{};this.la=null;this.l=E(this.h.getWin().document,"iframe",Ad);C(this.l,zd);this.Gb=new Promise(function(e){d.l.onload=e})}Q.prototype.getElement=function(){return this.l};Q.prototype.open=function(){this.h.getBody().appendChild(this.l);return Bd(this)};
function Bd(a){return a.m.openIframe(a.l,a.ad,a.aa).then(function(b){return b.whenReady()}).then(function(){Za(a.l);a.ka(function(){C(a.l,{transform:"translateY(100%)",opactiy:1,visibility:"visible"});return P(a.l,{transform:"translateY(0)",opacity:1,visibility:"visible"},400)});a.h.getWin().setTimeout(function(){a.close()},8E3)})}Q.prototype.ka=function(a){var b=this;return this.la=(this.la||Promise.resolve()).then(function(){return a()}).catch(function(){}).then(function(){b.la=null})};
Q.prototype.close=function(){var a=this;return this.ka(function(){a.h.getWin().setTimeout(function(){a.h.getBody().removeChild(a.l);return Promise.resolve()},500);return P(a.l,{transform:"translateY(100%)",opacity:1,visibility:"visible"},400)})};var R={},Cd=(R[22]=2001,R[3008]=1003,R[3007]=1001,R[3012]=1002,R[1]=2002,R[3013]=2003,R);function T(a,b,c,d){return{eventCategory:a,eventAction:b,eventLabel:c,nonInteraction:d}}
var U={},Dd=(U[3]=T("NTG paywall","paywall modal impression","",!0),U[26]=T("NTG membership","offer impressions","",!0),U[1006]=T("NTG paywall","click","",!1),U[1030]=T("NTG subscription","marketing modal click","",!1),U[24]=T("NTG subscription","marketing modal impression","",!0),U[1031]=T("NTG membership","marketing modal click","",!1),U[25]=T("NTG membership","membership modal impression","",!0),U[35]=T("NTG newsletter","newsletter modal impression","",!0),U[3024]=T("NTG newsletter","newsletter signup",
"success",!1),U[34]=T("NTG account","registration modal impression","",!0),U[3023]=T("NTG account","registration","success",!1),U),Ed={},Fd=(Ed[1001]=T("NTG subscription","submit","success",!1),Ed),Gd={},Hd=(Gd[1001]=T("NTG membership","submit","success",!1),Gd);function Id(a,b){var c=a.en;if("object"!==typeof a||!b)return c;var d="string"===typeof b?b:b.lang?b.lang:b.ownerDocument&&b.ownerDocument.documentElement.lang?b.ownerDocument.documentElement.lang:"en";d=d.toLowerCase();d=d.replace(/_/g,"-");for(var e=d.split("-");e.length;){var g=e.join("-");if(g in a)return a[g];e.pop()}return c};function Jd(a,b){b=void 0===b?!1:b;a=H(a);if(!(a.gaa_at&&a.gaa_n&&a.gaa_sig&&a.gaa_ts)||!b&&"na"===a.gaa_at)return!1;var c=parseInt(a.gaa_ts,16),d=Date.now()/1E3;return c<d?!1:!0};function Kd(a,b,c,d){this.g=a;this.P=b;this.S=this.P.getPublicationId();this.L=c;this.j=d;this.Jd=new Mb;this.G=null;this.Ja=0;this.Sb=this.gb=!1;this.Sa=null;this.Bd="encodedEntitlementsParams";this.za="/article";this.s=d.storage();this.V=d.analytics();this.Ea=d.config();this.entitlementsPostPromise=null;this.$d=!0;this.ne=!1;this.td=null;this.Ad=!1;this.j.eventManager().registerEventListener(this.Ge.bind(this))}f=Kd.prototype;
f.reset=function(a){this.G=null;this.Ja=Math.max(this.Ja,a?3:0);a&&(this.s.remove("ents"),this.s.remove("isreadytopay"))};f.clear=function(){this.G=null;this.Ja=0;this.unblockNextNotification();this.s.remove("ents");this.s.remove("toast");this.s.remove("isreadytopay")};
f.getEntitlements=function(a){var b=this;"string"===typeof a&&(1600289016959<Date.now()&&A("[swg.js:getEntitlements]: If present, the first param of getEntitlements() should be an object of type GetEntitlementsParamsExternalDef."),a={encryption:{encryptedDocumentKey:a}});this.G||(this.G=Ld(this,a));return this.G.then(function(c){null!=c.isReadyToPay&&b.V.setReadyToPay(c.isReadyToPay);return c})};
f.pushNextEntitlements=function(a,b){return(b=Md(this,a,!0,b))&&b.enablesThis()?(this.s.set("ents",a),!0):!1};function Nd(a){return H(a.g.location.search).gaa_n}f.Ge=function(a){if(Jd(this.g.location.search,!0)){var b=Cd[a.eventType];if(b){switch(a.eventOriginator){case 6:var c=3001;break;case 1:if(1003==b)return;c=1001;break;default:return}var d=Nd(this),e,g,h=null==a?void 0:null==(e=a.additionalParameters)?void 0:null==(g=e.getIsUserRegistered)?void 0:g.call(e);Od(this,new ta,b,c,d,h)}}};
function Od(a,b,c,d,e,g){e=void 0===e?"":e;g=void 0===g?null:g;var h=new ua;h.setUsedEntitlement(b);h.setClientEventTime(tc());h.setEntitlementResult(c);h.setEntitlementSource(d);h.setToken(e);"boolean"===typeof g&&h.setIsUserRegistered(g);var k="/publication/"+encodeURIComponent(a.S)+a.za;k=Pd(a.g.location,k);var l=a.Sa?Promise.resolve():Ta(Wb(a.j.doc())).then(function(n){a.Sa=Ra(Pa(JSON.stringify({metering:{resource:{hashedCanonicalUrl:n}}})))}),m=a.s.get("USER_TOKEN",!0);a.entitlementsPostPromise=
Promise.all([m,l]).then(function(n){(n=n[0])&&(k=I(k,"sut",n));k=I(k,a.Bd,a.Sa);return a.L.sendPost(Zb(k),h)})}function Ld(a,b){return Qd(a,b).then(function(c){var d=a.gb;a.gb=!1;var e=a.Sb;a.Sb=!1;d||(a.j.callbacks().triggerEntitlementsResponse(Promise.resolve(c)),a.ne&&c.enablesThisWithGoogleMetering()&&c.consume(),(d=c.getEntitlementForThis())?e||Rd(a,d):a.j.eventManager().logSwgEvent(3009,!1));return c})}
function Qd(a,b){return Promise.all([a.s.get("ents"),a.s.get("isreadytopay")]).then(function(c){var d=c[0],e=c[1],g=!(!b||!b.encryption);if(d&&!g){var h=Md;a:{switch(e){case "true":var k=!0;break a;case "false":k=!1;break a}k=void 0}var l=h(a,d,!0,k);if(l&&l.enablesThis())return a.Ja=0,l}return Sd(a,b).then(function(m){m&&m.enablesThisWithCacheableEntitlements()&&m.raw&&a.s.set("ents",m.raw);return m})})}
f.getArticle=function(){var a=this;return this.$d&&this.G?this.G.then(function(){return Promise.resolve(a.td)}):Promise.resolve()};f.getExperimentConfigFlags=function(){return this.getArticle().then(function(a){var b=a.experimentConfig;if(null!=b){var c=b.experimentFlags;if(null!=c)return c}return[]})};function Sd(a,b){function c(){d--;return a.Ta(b).then(function(e){return e.enablesThis()||0>=d?e:new Promise(function(g){a.g.setTimeout(function(){g(c())},550)})})}var d=a.Ja;a.Ja=0;return c()}
f.setToastShown=function(a){this.s.set("toast",a?"1":"0")};f.blockNextNotification=function(){this.gb=!0};f.blockNextToast=function(){this.Sb=!0};f.unblockNextNotification=function(){this.gb=!1};f.enableMeteredByGoogle=function(){this.Ad=!0};
f.parseEntitlements=function(a){var b=a.isReadyToPay;null==b?this.s.remove("isreadytopay"):this.s.set("isreadytopay",String(b));var c=a.signedEntitlements,d=a.decryptedDocumentKey,e=a.swgUserToken;e&&e&&this.s.set("USER_TOKEN",e,!0);if(c){if(a=Md(this,c,!1,b,d))return a}else{var g=a.entitlements;if(g)return Td(this,"",g,b,d)}return Td(this,"",[],b)};
function Md(a,b,c,d,e){try{var g=a.Jd.decode(b);if(c){var h=Date.now();if(1E3*parseFloat(g.exp)<h)return null}var k=g.entitlements;return k&&Td(a,b,k,d,e)||null}catch(l){a.g.setTimeout(function(){throw l;})}return null}function Td(a,b,c,d,e){return new Ob("subscribe.google.com",b,Qb(c,a.Jd),a.P.getProductId(),a.ae.bind(a),a.je.bind(a),d,e)}
function Rd(a,b){if("google:metering"===b.source)a.j.eventManager().logSwgEvent(3010,!1),Promise.resolve();else{var c=new y;c.setIsUserRegistered(!0);var d="privileged"===b.source?3014:3007;a.j.eventManager().logSwgEvent(d,!1,c);a.s.get("toast").then(function(e){if("1"!==e)return e=b.source||"google:metering",(new Q(a.j,K("/toastiframe"),L({publicationId:a.S,source:e}))).open()})}}f.ae=function(a){a.getEntitlementForThis()&&this.setToastShown(!0)};
f.je=function(a,b){var c=this;if(a.enablesThisWithGoogleMetering()){var d=a.getEntitlementForThis();a=function(){b&&b();a:if(d&&"google:metering"===d.source){if(d.subscriptionTokenContents&&2===d.subscriptionTokenContents.metering.clientType)var g=2002;else if(Jd(c.g.location.search)){g=2001;var h=Nd(c)}else break a;c.j.eventManager().logSwgEvent(3008,!1);var k=new ta;k.setSource(d.source);k.setJwt(d.subscriptionToken);Od(c,k,1003,g,h)}};if(d.subscriptionTokenContents&&d.subscriptionTokenContents.metering&&
!0===d.subscriptionTokenContents.metering.showToast){var e=new vd(this.j,{meterClientType:d.subscriptionTokenContents.metering.clientType,meterClientUserAttribute:d.subscriptionTokenContents.metering.clientUserAttribute});e.setOnConsumeCallback(a);return e.start()}return a()}};
f.Ta=function(a){var b=this,c=this.s.get("USER_TOKEN",!0),d="/publication/"+encodeURIComponent(this.S)+this.za;return Promise.all([Ta(Wb(this.j.doc())),c]).then(function(e){var g=e[0];e=e[1];d=Pd(b.g.location,d);if(null==a?0:a.encryption)d=I(d,"crypt",a.encryption.encryptedDocumentKey);e&&(d=I(d,"sut",e));var h=b.Ad?{metering:{clientTypes:[2],owner:b.S,resource:{hashedCanonicalUrl:g}}}:void 0,k;if(b.S&&(null==a?0:null==(k=a.metering)?0:k.state)&&Jd(b.g.location.search)){var l=a.metering.state.id;
if("string"===typeof l&&0<l.length){var m=function(n){var p=n.attributes,w=n.category;if(p){var x=Object.keys(p);n=r(x);for(var q=n.next();!q.done;q=n.next()){q=q.value;var v=w+"_"+q,S=Number(p[q].timestamp),zf=S>Date.now()/1E3*2;S&&!zf||A('SwG Entitlements: Please specify a Unix timestamp, in seconds, for the "'+q+'" '+w+" attribute. The timestamp you passed ("+p[q].timestamp+") looks invalid.");h.metering.state.attributes.push({name:v,timestamp:S})}}};h={metering:{clientTypes:[1],owner:b.S,resource:{hashedCanonicalUrl:g},
state:{id:l,attributes:[]},token:Nd(b)}};m({attributes:a.metering.state.standardAttributes,category:"standard"});m({attributes:a.metering.state.customAttributes,category:"custom"})}else A("SwG Entitlements: Please specify a metering state ID string, ideally a hash to avoid PII.")}h&&(b.Sa=Ra(Pa(JSON.stringify(h))),d=I(d,b.Bd,b.Sa));return Zb(d)}).then(function(e){b.j.eventManager().logSwgEvent(1024,!1);return b.L.fetchCredentialedJson(e)}).then(function(e){var g=e;b.$d&&(b.td=e,g=e.entitlements);
if(e.errorMessages&&0<e.errorMessages.length){e=r(e.errorMessages);for(var h=e.next();!h.done;h=e.next())A("SwG Entitlements: "+h.value)}return b.parseEntitlements(g)})};function Pd(a,b){var c=H(a.hash)["swg.deventitlement"];return void 0===c?b:I(b,"devEnt",c)};function Ud(a){this.g=a.win();this.B=a.eventManager()}Ud.prototype.start=function(){this.B.registerEventListener(this.Ga.bind(this))};
Ud.prototype.Ga=function(a){if("function"===typeof this.g.ga||"function"===typeof this.g.gtag){var b="";a.additionalParameters&&(b=a.additionalParameters.subscriptionFlow||a.additionalParameters.getSubscriptionFlow());a=a.eventType;var c=null;b&&("subscribe"==b?c=Fd[a]:"contribute"==b&&(c=Hd[a]));if(b=c||Dd[a])"function"===typeof this.g.ga&&this.g.ga("send","event",b),"function"===typeof this.g.gtag&&this.g.gtag("event",b.eventAction,{event_category:b.eventCategory,event_label:b.eventLabel,non_interaction:b.nonInteraction})}};function Vd(a){this.h=a;this.Ae=Promise.resolve()}Vd.prototype.error=function(a){var b=this,c=Array.prototype.slice.call(arguments,0);return this.Ae.then(function(){var d=Wd.apply(null,c);d.reported||(b.h.getWin().document.createElement("img").src="https://news.google.com/_/SubscribewithgoogleClientUi/jserror?error="+encodeURIComponent(String(d))+"&script="+encodeURIComponent("https://news.google.com/swg/js/v1/swg.js")+"&line="+(d.lineNumber||1)+"&trace="+encodeURIComponent(d.stack),d.reported=!0)})};
function Wd(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];if(e instanceof Error&&!b){b=void 0;var g=Object.getOwnPropertyDescriptor(e,"message");if(g&&g.writable)b=e;else{g=e.stack;var h=Error(e.message);for(b in e)h[b]=e[b];h.stack=g;b=h}}else c&&(c+=" "),c+=e}b?c&&(b.message=c+": "+b.message):b=Error(c);return b};function Xd(a,b){var c=this;this.j=a;this.g=a.win();this.A=a.clientConfigManager();this.m=a.activities();this.F=a.dialogManager();this.H=a.entitlementsManager();this.N=a.callbacks();var d=b&&b.index||"0";this.u=null;this.fb=this.A.getClientConfig().then(function(e){return new F(c.g,c.m,K("/linkconfirmiframe",{},e.usePrefixedHostPath,"u/"+d),L({productId:a.pageConfig().getProductId(),publicationId:a.pageConfig().getPublicationId()}),!0)});this.xd=null;this.ge=new Promise(function(e){c.xd=e})}
function Yd(a){a.activities().onResult("swg-link",function(b){a.entitlementsManager().blockNextNotification();a.callbacks().triggerLinkProgress();a.dialogManager().popupClosed();return Ga(b,G(J().frontEnd).origin,!1,!1).then(function(c){a.eventManager().logSwgEvent(1011,!0);(new Xd(a,c)).start()},function(c){bb(c)?(a.eventManager().logSwgEvent(1012,!0),a.callbacks().triggerFlowCanceled("linkAccount")):a.eventManager().logSwgEvent(1011,!0)})})}
Xd.prototype.start=function(){var a=this;return this.fb.then(function(b){a.u=b;a.u.acceptResultAndVerify(G(J().frontEnd).origin,!0,!0).then(function(c){a.W(c)}).catch(function(c){setTimeout(function(){throw c;})}).then(function(){a.F.completeView(a.u)});a.j.eventManager().logSwgEvent(3005,!0);a.j.eventManager().logSwgEvent(14,!0);return a.F.openView(a.u)})};
Xd.prototype.W=function(a){this.j.eventManager().logSwgEvent(1013,!0);var b=a.swgUserToken;b&&this.j.storage().set("USER_TOKEN",b,!0);this.N.triggerLinkComplete();this.N.resetLinkProgress();this.H.setToastShown(!0);this.H.unblockNextNotification();this.H.reset(a&&a.success||!1);a&&a.entitlements&&this.H.pushNextEntitlements(a.entitlements);this.xd()};Xd.prototype.whenComplete=function(){return this.ge};var Zd={en:"Subscribe with Google",ar:"Google \u0627\u0634\u062a\u0631\u0643\u00a0\u0645\u0639",de:"Abonnieren mit Google","en-au":"Subscribe with Google","en-ca":"Subscribe with Google","en-gb":"Subscribe with Google","en-us":"Subscribe with Google",es:"Suscr\u00edbete con Google","es-419":"Suscr\u00edbete con Google","es-latam":"Suscr\u00edbete con Google","es-latn":"Suscr\u00edbete con Google",fr:"S'abonner avec Google","fr-ca":"S'abonner avec Google",hi:"Google \u0915\u0947 \u095b\u0930\u093f\u092f\u0947 \u0938\u0926\u0938\u094d\u092f\u0924\u093e",
id:"Berlangganan dengan Google",it:"Abbonati con Google",jp:"Google \u3067\u8cfc\u8aad",ko:"Google \uc744 \ud1b5\ud55c\uad6c\ub3c5",ms:"Langgan dengan Google",nl:"Abonneren via Google",no:"Abonner med Google",pl:"Subskrybuj z Google",pt:"Subscrever com o Google","pt-br":"Assine com o Google",ru:"\u041f\u043e\u0434\u043f\u0438c\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 Google",se:"Prenumerera med Google",th:"\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e1f\u0e32\u0e19 Google",tr:"Google ile Abone Ol",uk:"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Google",
"zh-cn":"\u901a\u8fc7 Google \u8ba2\u9605","zh-hk":"\u900f\u904e Google \u8a02\u95b1","zh-tw":"\u900f\u904e Google \u8a02\u95b1"},$d={en:"Contribute with Google",ar:"\u0627\u0644\u0645\u0633\u0627\u0647\u0645\u0629 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Google",de:"Mit Google beitragen","en-au":"Contribute with Google","en-ca":"Contribute with Google","en-gb":"Contribute with Google","en-us":"Contribute with Google",es:"\tContribuye con Google","es-419":"Contribuir con Google","es-latam":"Contribuir con Google",
"es-latn":"Contribuye con Google",fr:"Contribuer avec Google","fr-ca":"Contribuer avec Google",hi:"Google \u0916\u093e\u0924\u0947 \u0915\u0940 \u092e\u0926\u0926 \u0938\u0947 \u092f\u094b\u0917\u0926\u093e\u0928 \u0915\u0930\u0947\u0902",id:"Berkontribusi dengan Google",it:"Contribuisci con Google",jp:"Google \u3067\u5bc4\u4ed8",ko:"Google\uc744 \ud1b5\ud574 \ucc38\uc5ec\ud558\uae30",ms:"Sumbangkan dengan Google",nl:"Bijdragen met Google",no:"Bidra med Google",pl:"Wesprzyj publikacj\u0119 przez Google",
pt:"Contribuir utilizando o Google","pt-br":"Contribua usando o Google",ru:"\u0412\u043d\u0435\u0441\u0442\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0447\u0435\u0440\u0435\u0437 Google",se:"Bidra med Google",th:"\u0e21\u0e35\u0e2a\u0e48\u0e27\u0e19\u0e23\u0e48\u0e27\u0e21\u0e1c\u0e48\u0e32\u0e19 Google",tr:"Google ile Katk\u0131da Bulun",uk:"\u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u0432\u043d\u0435\u0441\u043e\u043a \u0447\u0435\u0440\u0435\u0437 Google","zh-cn":"\u901a\u8fc7 Google \u6350\u8d60",
"zh-hk":"\u900f\u904e Google \u63d0\u4f9b\u5167\u5bb9","zh-tw":"\u900f\u904e Google \u6350\u6b3e"},ae={en:"You have signed up before.",ar:"\u0633\u0628\u0642 \u0623\u0646 \u0627\u0634\u062a\u0631\u0643\u062a \u0641\u064a \u0627\u0644\u0646\u0634\u0631\u0629 \u0627\u0644\u0625\u062e\u0628\u0627\u0631\u064a\u0629.",de:"Du hast dich bereits angemeldet.","en-au":"You have signed up before.","en-ca":"You have signed up before.","en-gb":"You have signed up before.","en-us":"You have signed up before.",
es:"Ya te has registrado anteriormente.","es-419":"Ya te registraste antes.",fr:"Vous vous \u00eates d\u00e9j\u00e0 inscrit.","fr-ca":"Vous vous \u00eates inscrit auparavant.",hi:"\u0928\u094d\u092f\u0942\u091c\u093c\u0932\u0947\u091f\u0930 \u0915\u0947 \u0932\u093f\u090f \u092a\u0939\u0932\u0947 \u0939\u0940 \u0938\u093e\u0907\u0928 \u0905\u092a \u0915\u093f\u092f\u093e \u091c\u093e \u091a\u0941\u0915\u093e \u0939\u0948.",id:"Anda telah mendaftar sebelumnya.",it:"Hai gi\u00e0 effettuato l'iscrizione.",
jp:"\u3059\u3067\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002",ko:"\uc774\uc804\uc5d0 \uac00\uc785\ud55c \uc0ac\uc6a9\uc790\uc785\ub2c8\ub2e4.",ms:"Anda sudah mendaftar sebelum ini.",nl:"Je hebt je al eerder aangemeld.",no:"Du er allerede registrert.",pl:"Ju\u017c wcze\u015bniej si\u0119 zarejestrowa\u0142e\u015b(-a\u015b).",pt:"J\u00e1 se inscreveu anteriormente.","pt-br":"Voc\u00ea se inscreveu anteriormente.",ru:"\u0412\u044b \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b.",
se:"Du har redan registrerat dig.",th:"\u0e04\u0e38\u0e13\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e23\u0e31\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e21\u0e32\u0e01\u0e48\u0e2d\u0e19\u0e41\u0e25\u0e49\u0e27",tr:"Daha \u00f6nce kaydolmu\u015ftunuz.",uk:"\u0412\u0438 \u0432\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u043b\u0438\u0441\u044f.","zh-cn":"\u60a8\u4e4b\u524d\u5df2\u6ce8\u518c\u3002","zh-hk":"\u60a8\u4e4b\u524d\u5df2\u8a02\u95b1\u3002","zh-tw":"\u4f60\u5df2\u7d93\u8a02\u95b1\u4e86\u3002"},
be={en:'Created an account with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',ar:'\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>.',de:'Konto bei <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> wurde erstellt',"en-au":'Created an account with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',"en-ca":'Created an account with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',"en-gb":'Created an account with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',
"en-us":'Created an account with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',es:'Has creado una cuenta con <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',"es-419":'Se cre\u00f3 una cuenta con <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',fr:'A cr\u00e9\u00e9 un compte avec <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',"fr-ca":'Un compte a \u00e9t\u00e9 cr\u00e9\u00e9 avec l\'adresse <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',hi:'<ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u0915\u093e \u0907\u0938\u094d\u0924\u0947\u092e\u093e\u0932 \u0915\u0930\u0915\u0947, \u090f\u0915 \u0916\u093e\u0924\u093e \u092c\u0928\u093e\u092f\u093e \u0917\u092f\u093e',
id:'Membuat akun dengan <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',it:'\u00c8 stato creato un account con l\'indirizzo <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',jp:'<ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f',ko:'<ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>(\uc73c)\ub85c \uacc4\uc815\uc744 \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4.',ms:'Membuat akaun dengan <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',
nl:'Account gemaakt met <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',no:'Du har opprettet en konto med <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',pl:'Utworzono konto za pomoc\u0105 adresu <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',pt:'Criou uma conta com <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',"pt-br":'Conta criada com o e-mail <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',ru:'\u0412\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>.',
se:'Du skapade ett konto med <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',th:'\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e14\u0e49\u0e27\u0e22 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',tr:'<ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> ile bir hesap olu\u015fturun',uk:'\u041e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0457 \u0430\u0434\u0440\u0435\u0441\u0438 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',
"zh-cn":'\u5df2\u4f7f\u7528 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u521b\u5efa\u5e10\u53f7',"zh-hk":'\u5df2\u4f7f\u7528 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u5efa\u7acb\u5e33\u6236',"zh-tw":'\u5df2\u4f7f\u7528 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u5efa\u7acb\u5e33\u6236'},ce={en:'Signed up with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> for the newsletter',ar:'\u062a\u0645 \u0627\u0644\u0627\u0634\u062a\u0631\u0627\u0643 \u0641\u064a \u0627\u0644\u0646\u0634\u0631\u0629 \u0627\u0644\u0625\u062e\u0628\u0627\u0631\u064a\u0629 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>.',
de:'Du hast dich f\u00fcr den Newsletter von <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> angemeldet',"en-au":'Signed up with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> for the newsletter',"en-ca":'Signed up with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> for the newsletter',"en-gb":'Signed up with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> for the newsletter',"en-us":'Signed up with <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> for the newsletter',es:'Te has suscrito a la newsletter con <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',
"es-419":'Te registraste con <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> para recibir el bolet\u00edn informativo',fr:'S\'est abonn\u00e9 \u00e0 la newsletter avec <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',"fr-ca":"Vous \u00eates inscrit au bulletin d'information avec l'adresse <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>",hi:'\u0928\u094d\u092f\u0942\u095b\u0932\u0947\u091f\u0930 \u092a\u093e\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f, <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u0938\u0947 \u0938\u093e\u0907\u0928 \u0905\u092a \u0915\u093f\u092f\u093e \u0917\u092f\u093e',
id:'Mendaftar dengan <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> untuk mendapatkan newsletter',it:'Iscrizione alla newsletter con l\'indirizzo <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> effettuata',jp:'<ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u3067\u30cb\u30e5\u30fc\u30b9\u30ec\u30bf\u30fc\u3092\u767b\u9332\u3057\u307e\u3057\u305f',ko:'<ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>(\uc73c)\ub85c \ub274\uc2a4\ub808\ud130\uc5d0 \uac00\uc785\ud588\uc2b5\ub2c8\ub2e4.',ms:'Mendaftar dengan <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> untuk surat berita',
nl:'Aangemeld met <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> voor de nieuwsbrief',no:'Du har registrert deg for nyhetsbrevet med <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',pl:'Zapisano si\u0119 na newsletter za pomoc\u0105 adresu <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',pt:'Inscreveu-se com <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> no boletim informativo',"pt-br":'Inscri\u00e7\u00e3o na newsletter feita com o e-mail <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',ru:'\u0412\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u043d\u0443\u044e \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0430\u043a\u043a\u0430\u0443\u043d\u0442 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>.',
se:'Du registrerade dig f\u00f6r nyhetsbrevet med <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',th:'\u0e25\u0e07\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e02\u0e49\u0e32\u0e43\u0e0a\u0e49\u0e14\u0e49\u0e27\u0e22 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e08\u0e14\u0e2b\u0e21\u0e32\u0e22\u0e02\u0e48\u0e32\u0e27',tr:'B\u00fclten i\u00e7in <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> ile kaydoldunuz',uk:'\u0412\u0438 \u043f\u0456\u0434\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044f \u043d\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0439\u043d\u0456 \u043b\u0438\u0441\u0442\u0438 \u043d\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph>',
"zh-cn":'\u5df2\u4f7f\u7528 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u8ba2\u9605\u7b80\u62a5',"zh-hk":'\u5df2\u4f7f\u7528 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u8a3b\u518a\u901a\u8a0a',"zh-tw":'\u5df2\u4f7f\u7528 <ph name="EMAIL"><ex>user@gmail.com</ex>%s</ph> \u8a02\u95b1\u96fb\u5b50\u5831'};var de={TYPE_REGISTRATION_WALL:"/regwalliframe",TYPE_NEWSLETTER_SIGNUP:"/newsletteriframe"},ee={},fe=(ee.subscription="SUBSCRIPTION",ee.subscription_large="SUBSCRIPTION",ee.contribution="UI_CONTRIBUTION",ee.contribution_large="UI_CONTRIBUTION",ee),ge=/<ph name="EMAIL".+?\/ph>/g;
function he(a,b){this.j=a;this.R=b;this.Cb=b.autoPromptType?fe[b.autoPromptType]:"SUBSCRIPTION";this.F=a.dialogManager();this.H=a.entitlementsManager();this.A=a.clientConfigManager();this.u=new F(a.win(),a.activities(),K(de[this.R.action],{origin:G(a.win().location.href).origin}),L({supportsEventManager:!0,productType:this.Cb}),!0)}
he.prototype.start=function(){var a=this;if(!this.u)return Promise.resolve();this.u.on(sa,function(c){a.F.completeView(a.u);a.H.clear();var d=c.getSwgUserToken();d&&a.j.storage().set("USER_TOKEN",d,!0);if(c.getActionCompleted()){var e;c=null!=(e=c.getUserEmail())?e:"";e=a.A.getLanguage();d="";"TYPE_REGISTRATION_WALL"===a.R.action?d=Id(be,e).replace(ge,c):"TYPE_NEWSLETTER_SIGNUP"===a.R.action&&(d=Id(ce,e).replace(ge,c));(new Q(a.j,K("/toastiframe",{flavor:"custom",customText:d}))).open()}else"TYPE_REGISTRATION_WALL"===
a.R.action?(new Q(a.j,K("/toastiframe",{flavor:"basic"}))).open():"TYPE_NEWSLETTER_SIGNUP"===a.R.action&&(e=a.A.getLanguage(),e=Id(ae,e),(new Q(a.j,K("/toastiframe",{flavor:"custom",customText:e}))).open());a.H.getEntitlements()});this.u.on(ma,this.te.bind(this));var b=this.R.onCancel;if(b)this.u.onCancel(b);return this.F.openView(this.u,!1,{shouldDisableBodyScrolling:!0})};he.prototype.te=function(a){a.getSubscriberOrMember()&&this.j.callbacks().triggerLoginRequest({linkRequested:!1})};
he.prototype.showNoEntitlementFoundToast=function(){this.u&&this.u.execute(new va)};function V(a){this.h=a.doc();this.A=a.clientConfigManager();B(this.A,"MiniPromptApi requires an instance of ClientConfigManager.");this.B=a.eventManager()}V.prototype.init=function(){var a=this.h.getHead();a?a.querySelector('link[href="https://news.google.com/thank/js/v1/swg-mini-prompt.css"]')||a.appendChild(E(this.h.getWin().document,"link",{rel:"stylesheet",type:"text/css",href:"https://news.google.com/thank/js/v1/swg-mini-prompt.css"})):A("Unable to retrieve the head node of the current document, which is needed by MiniPromptApi.")};
V.prototype.create=function(a){var b=this;if("contribution"===a.autoPromptType||"subscription"===a.autoPromptType){var c=this.A.getTheme(),d=this.A.getLanguage(),e="";"contribution"===a.autoPromptType?e=Id($d,d)||"":"subscription"===a.autoPromptType&&(e=Id(Zd,d)||"");var g=E(this.h.getWin().document,"div",{role:"dialog",lang:d});g.classList.add("swg-mini-prompt-"+c);var h=E(this.h.getWin().document,"div",{role:"button"});h.classList.add("swg-mini-prompt-title-container");h.innerHTML='\n<div class="swg-mini-prompt-icon-$theme$"></div>\n<h1 class="swg-mini-prompt-title-text-$theme$">$textContent$</h1>\n'.replace(/\$theme\$/g,
c).replace("$textContent$",e);var k=E(this.h.getWin().document,"div",{});k.classList.add("swg-mini-prompt-close-button-container");k.innerHTML='\n<div class="swg-mini-prompt-close-icon-$theme$"></div>\n'.replace("$theme$",c);g.appendChild(h);g.appendChild(k);this.h.getWin().document.body.appendChild(g);h.addEventListener("click",function(){b.tc(a.autoPromptType);"function"===typeof a.clickCallback&&a.clickCallback();D(g,"visibility","hidden")});k.addEventListener("click",function(){D(g,"visibility",
"hidden");var l=a.autoPromptType,m;"contribution"===l?m=1033:"subscription"===l&&(m=1032);m&&b.B.logSwgEvent(m,!0)});this.uc(a.autoPromptType)}};V.prototype.uc=function(a){var b;"contribution"===a?b=25:"subscription"===a&&(b=24);b&&this.B.logSwgEvent(b,!1)};V.prototype.tc=function(a){var b;"contribution"===a?b=1031:"subscription"===a&&(b=1030);b&&this.B.logSwgEvent(b,!0)};var ie=[25,24,3,26],je=[1033,1032,1038,1037];function ke(a){this.j=a;this.P=a.pageConfig();this.H=a.entitlementsManager();this.A=a.clientConfigManager();B(this.A,"AutoPromptManager requires an instance of ClientConfigManager.");this.s=a.storage();this.j.eventManager().registerEventListener(this.Ga.bind(this));this.Rd=this.getMiniPromptApi(a);this.Rd.init();this.hasStoredImpression=this.ud=!1;this.Eb=this.Kd=null}f=ke.prototype;f.getMiniPromptApi=function(a){return new V(a)};
f.showAutoPrompt=function(a){var b=this;return a.alwaysShow?(le(this,a.autoPromptType,a.displayLargePromptFn),Promise.resolve()):Promise.all([this.A.getClientConfig(),this.H.getEntitlements(),this.H.getArticle(),this.s.get("dismissedprompts",!0)]).then(function(c){c=r(c);var d=c.next().value,e=c.next().value,g=c.next().value,h=c.next().value;me(b,d,e,g,h,a)})};
function me(a,b,c,d,e,g){ne(a,b,c,g.autoPromptType).then(function(h){var k=oe(a,{article:d,autoPromptType:g.autoPromptType,dismissedPrompts:e,shouldShowAutoPrompt:h}),l=k?pe(a,{action:k,autoPromptType:g.autoPromptType}):g.displayLargePromptFn;h?a.j.win().setTimeout(function(){a.ud=!0;le(a,g.autoPromptType,l)},1E3*((null==b?void 0:b.autoPromptConfig.clientDisplayTrigger.displayDelaySeconds)||0)):qe(a,c,!!k)&&l&&l()})}
function ne(a,b,c,d){if(b.uiPredicates&&!b.uiPredicates.canDisplayAutoPrompt||void 0===d||"none"===d||c.enablesThis()||a.P.isLocked())return Promise.resolve(!1);if("subscription"===d||"subscription_large"===d)return Promise.resolve(!0);var e=void 0;if(void 0===b||void 0===b.autoPromptConfig)return Promise.resolve(!1);e=b.autoPromptConfig;return void 0===e.impressionConfig.maxImpressions?Promise.resolve(!0):Promise.all([re(a,"autopromptimp"),re(a,"autopromptdismiss")]).then(function(g){var h=g[0],
k=g[1],l=h[h.length-1],m=k[k.length-1];return e.explicitDismissalConfig.maxDismissalsPerWeek&&k.length>=e.explicitDismissalConfig.maxDismissalsPerWeek&&Date.now()-m<1E3*(e.explicitDismissalConfig.maxDismissalsResultingHideSeconds||0)||e.explicitDismissalConfig.backOffSeconds&&0<k.length&&Date.now()-m<1E3*e.explicitDismissalConfig.backOffSeconds||e.impressionConfig.maxImpressions&&h.length>=e.impressionConfig.maxImpressions&&Date.now()-l<1E3*(e.impressionConfig.maxImpressionsResultingHideSeconds||
0)||e.impressionConfig.backOffSeconds&&0<h.length&&Date.now()-l<1E3*e.impressionConfig.backOffSeconds?!1:!0})}
function oe(a,b){var c=b.autoPromptType,d=b.dismissedPrompts,e=b.shouldShowAutoPrompt,g,h,k=(null==(g=b.article)?void 0:null==(h=g.audienceActions)?void 0:h.actions)||[];if(0!==k.length){var l=k[0].type;if("contribution"===c||"contribution_large"===c){if(!d){a.Eb="contribution";return}var m=d.split(",");k=k.filter(function(n){return!m.includes(n.type)});if(0===k.length||e)return;l=k[0].type;a.Eb=l}return l}}
function pe(a,b){var c=b.action,d=b.autoPromptType;return function(){var e=new he(a.j,{action:c,autoPromptType:d,onCancel:function(){return se(a)}});a.setLastAudienceActionFlow(e);e.start()}}f.setLastAudienceActionFlow=function(a){this.Kd=a};f.getLastAudienceActionFlow=function(){return this.Kd};function le(a,b,c){"subscription"===b||"contribution"===b?a.Rd.create({autoPromptType:b,clickCallback:c}):"subscription_large"!==b&&"contribution_large"!==b||!c||c()}
function qe(a,b,c){return(a.P.isLocked()||c)&&!b.enablesThis()}f.Ga=function(a){return this.ud&&!this.P.isLocked()&&a.eventType?!this.hasStoredImpression&&ie.includes(a.eventType)?(this.hasStoredImpression=!0,te(this,"autopromptimp")):je.includes(a.eventType)?Promise.all([te(this,"autopromptdismiss"),se(this)]):Promise.resolve():Promise.resolve()};function se(a){return a.Eb?a.s.get("dismissedprompts",!0).then(function(b){var c=a.Eb;a.s.set("dismissedprompts",b?b+","+c:c,!0)}):Promise.resolve()}
function te(a,b){return a.s.get(b,!0).then(function(c){var d=ue(ve(c));d.push(Date.now());var e=d.join(",");a.s.set(b,e,!0)})}function re(a,b){return a.s.get(b,!0).then(function(c){return ue(ve(c))})}function ve(a){return null===a?[]:a.split(",").map(function(b){return parseInt(b,10)})}function ue(a){for(var b=Date.now(),c=a.length,d=0;d<a.length;d++)if(6048E5>=b-a[d]){c=d;break}return a.slice(c)};function we(a,b){b=void 0===b?{}:b;var c=b.colorTheme,d=b.promptSettings;V.call(this,a);this.j=a;this.ma=a.doc();this.Wb=a.eventManager();this.g=a.win();this.Ld=xe(this);this.Sd=null;this.Oa=c;this.ua=null!=d?d:{}}ja(we,V);f=we.prototype;f.init=function(){this.ma.getHead()?(ye(this,"https://news.google.com/thank/js/v1/button.css"),ye(this,"https://news.google.com/thank/js/v1/mini-prompt.css")):A("Unable to retrieve the head node of the current document, which is needed by MiniPromptApi.")};
function ye(a,b){var c=a.ma.getHead();c.querySelector('link[href="'+b+'"]')||c.appendChild(E(a.ma.getWin().document,"link",{rel:"stylesheet",type:"text/css",href:b}))}f.create=function(a){var b=this;this.shouldNotCreate(a)||this.j.clientConfigManager().getClientConfig().then(function(c){ze(b,a,c);b.ma.getBody().clientHeight>b.g.innerHeight?(b.pb=b.pb.bind(b),b.g.addEventListener("scroll",b.pb)):Ae(b)})};
f.shouldNotCreate=function(a){var b=M(this.g,"twg_pop_up_drawer_cta_experiment");if(!a.clickCallback||b||"high"===this.ua.floatingPromptProminence)return!0;var c=M(this.g,"twg_floating_tooltip_cta_experiment")||M(this.g,"twg_floating_tooltip_cta_experiment_no_delay")||M(this.g,"twg_floating_tooltip_cta_experiment_long_delay")?"thank-mini-prompt-left":"thank-mini-prompt";return!!this.ma.getRootNode().querySelector("."+c)};
f.pb=function(){var a=xe(this);a<this.Ld?(Ae(this),this.g.removeEventListener("scroll",this.pb)):this.Ld=a};function Ae(a){D(a.Sd,"opacity","1");a.Wb.logSwgEvent(3018,!1);var b=M(a.g,"twg_floating_tooltip_cta_experiment"),c=M(a.g,"twg_floating_tooltip_cta_experiment_long_delay"),d=M(a.g,"twg_floating_tooltip_cta_experiment_no_delay");b||c?setTimeout(a.zd,1E3*(b?7:30)):d&&a.zd()}
f.zd=function(){var a=document.createElement("div");a.classList.add("thank-tooltip");a.innerHTML="Appreciate the creators work by sending them a free or paid Thank";a.id="tooltip";var b=document.createElement("div");b.classList.add("thank-tooltip-triangle");var c=document.createElement("button");c.classList.add("thank-tooltip-close-button");c.id="tooltipCloseButton";c.addEventListener("click",function(){c.hidden=!0;a.hidden=!0;b.hidden=!0});document.body.appendChild(a);document.body.appendChild(b);
document.body.appendChild(c)};function xe(a){var b=a.g.pageYOffset;return null!==b&&void 0!==b?b:a.ma.getRootElement().scrollTop}
function ze(a,b,c){var d="";c&&c.attributionParams&&(d=c.attributionParams.avatarUrl||"");c=E(a.g.document,"div",{role:"dialog"});c.classList.add("twg-thank-button");c.classList.add("twg-theme--"+a.Oa);var e=M(a.g,"twg_floating_tooltip_cta_experiment")||M(a.g,"twg_floating_tooltip_cta_experiment_no_delay")||M(a.g,"twg_floating_tooltip_cta_experiment_long_delay");c.classList.add(e?"thank-mini-prompt-left":"thank-mini-prompt");D(c,"opacity","0");a.Sd=c;var g=document.createElement("div"),h=document.createElement("div");
h.classList.add("example-one");var k=document.createElement("div");k.classList.add("example-two");var l="";d&&(l='<img class="thank-button-avatar" src="$avatarUrl$">'.replace("$avatarUrl$",d),l+='<div class="thank-button-icon"></div>');l+='\n  <div class="thank-button-label">Thank the creator</div>\n';g.classList.add("thank-button-left");g.innerHTML=l;a.ma.getBody().appendChild(c);c.append(g);e||(c.append(h),c.append(k));c.addEventListener("click",function(){a.tc();"function"===typeof b.clickCallback&&
b.clickCallback()});a.uc()}f.uc=function(){this.Wb.logSwgEvent(31,!1)};f.tc=function(){this.Wb.logSwgEvent(1040,!0)};function Be(a,b){b=void 0===b?{colorTheme:"blue",promptSettings:{}}:b;ke.call(this,a);this.$=b}ja(Be,ke);Be.prototype.getMiniPromptApi=function(a){return new we(a,this.$)};function W(a,b){var c=a.indexOf(":");if(-1!=c){var d=a;a=d.substring(0,c);var e=d.substring(c+1)}else e=d=null;this.S=a;this.Ka=d;this.Ua=e;this.xe=b}W.prototype.getPublicationId=function(){return this.S};W.prototype.getProductId=function(){return this.Ka};W.prototype.getLabel=function(){return this.Ua};W.prototype.isLocked=function(){return this.xe};function Ce(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];if(e instanceof Error&&!b){b=void 0;var g=Object.getOwnPropertyDescriptor(e,"message");if(g&&g.writable)b=e;else{g=e.stack;var h=Error(e.message);for(b in e)h[b]=e[b];h.stack=g;b=h}}else c&&(c+=" "),c+=e}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function De(a){this.Kb=a=void 0===a?"":a}function Ee(a,b){a.Kb&&(b.message?-1===b.message.indexOf(a.Kb)&&(b.message=a.Kb):b.message=a.Kb)}
De.prototype.createError=function(a){var b=Ce.apply(null,Array.prototype.slice.call(arguments));Ee(this,b);return b};De.prototype.createExpectedError=function(a){var b=Ce.apply(null,Array.prototype.slice.call(arguments));Ee(this,b);b.expected=!0;return b};De.prototype.error=function(a){throw this.createError.apply(this,arguments);};De.prototype.expectedError=function(a){throw this.createExpectedError.apply(this,arguments);};var Fe=new De(self.__AMP_TOP?"\u200b\u200b\u200b":"");new De;var Ge="CreativeWork Article NewsArticle Blog Comment Course HowTo Message Review WebPage".split(" "),He=new RegExp(Ge.join("|"));function Ie(a){var b=this;this.h=Ec(a);this.Ca=null;this.he=new Promise(function(c){b.Ca=c});this.ye=new Je(this.h);this.we=new Ke(this.h);this.Be=new Le(this.h)}Ie.prototype.resolveConfig=function(){Promise.resolve().then(this.check.bind(this));this.h.whenReady().then(this.check.bind(this));return this.he};
Ie.prototype.check=function(){if(!this.Ca)return null;var a=this.ye.check();a||(a=this.we.check());a||(a=this.Be.check());a?(this.Ca(a),this.Ca=null):this.h.isReady()&&(this.Ca(Promise.reject(Fe.createError("No config could be discovered in the page"))),this.Ca=null);Ha(a);return a};function Me(){}Me.prototype.checkValue=function(a,b){return a?this.checkArray(this.Lb(a),b):!1};Me.prototype.checkString=function(a,b){return a?this.checkArray(a.split(/\s+/),b):!1};
Me.prototype.checkArray=function(a,b){for(var c=r(a),d=c.next();!d.done;d=c.next()){var e=d.value.replace(/^http:\/\/schema.org\//i,"");if(b.includes(e))return!0}return!1};Me.prototype.Lb=function(a){return Array.isArray(a)?a:[a]};function Je(a){this.h=a}
Je.prototype.check=function(){if(!this.h.getBody())return null;var a=Ne(this.h.getRootNode(),"subscriptions-product-id");if(!a)return null;var b=Ne(this.h.getRootNode(),"subscriptions-accessible-for-free");b=!(!b||"false"!==b.toLowerCase());return new W(a,b)};function Ke(a){this.h=a;this.Na=new Me}
Ke.prototype.check=function(){if(!this.h.getBody())return null;for(var a=this.h.isReady(),b=this.h.getRootNode().querySelectorAll('script[type="application/ld+json"]'),c=0;c<b.length;c++){var d=b[c],e;if((e=!d["__SWG-SEEN__"]&&d.textContent)&&!(e=a))a:{e=d;do if(e.nextSibling){e=!0;break a}while((e=e.parentNode)&&void 0!=e);e=!1}if(e&&(d["__SWG-SEEN__"]=!0,He.test(d.textContent))){var g=this.hd(d);if(g)return g}}return null};
Ke.prototype.hd=function(a){var b=Kb(a.textContent);if(!b)return null;Array.isArray(b)||(b=[b]);for(var c=b,d=0;d<c.length;d++){var e=c[d];e["@graph"]&&Array.isArray(e["@graph"])&&(c=c.concat(e["@graph"]));if(this.Na.checkValue(e["@type"],Ge)){a=null;var g=Oe(e,"isPartOf");if(g)for(var h=0;h<g.length&&!(a=this.cc(g[h]));h++);if(a)return d=Pe(e,"isAccessibleForFree"),d=null==d||""===d?!0:"boolean"==typeof d?d:"string"==typeof d&&"false"==d.toLowerCase()?!1:!0,new W(a,!d)}}return null};
Ke.prototype.cc=function(a){return this.Na.checkValue(a["@type"],["Product"])?Pe(a,"productID"):null};function Oe(a,b){a=a[b];return null==a||""===a?null:Array.isArray(a)?a:[a]}function Pe(a,b){var c=Oe(a,b);a=c&&c[0];return null==a||""===a?null:a}function Le(a){this.h=a;this.Ka=this.eb=null;this.Na=new Me}
function Qe(a,b){var c=b.querySelectorAll("[itemprop='isAccessibleForFree']");for(b=0;c[b];b++){var d=c[b],e=d.getAttribute("content")||d.textContent;if(e&&Re(a,d,"alreadySeenForAccessInfo")){var g=null;"true"==e.toLowerCase()?g=!0:"false"==e.toLowerCase()&&(g=!1);return g}}return null}function Re(a,b,c){for(var d=b;d&&!d[c];d=d.parentNode)if(d[c]=!0,d.hasAttribute&&d.hasAttribute("itemscope"))return d=d.getAttribute("itemtype"),a.Na.checkString(d,Ge);return!1}
Le.prototype.cc=function(a){a=a.querySelectorAll('[itemprop="productID"]');for(var b=0;a[b];b++){var c=a[b],d=c.getAttribute("content")||c.textContent;c=c.closest("[itemtype][itemscope]");if(!(-1>=c.getAttribute("itemtype").indexOf("http://schema.org/Product"))&&Re(this,c.parentElement,"alreadySeenForProductInfo"))return d}return null};function Se(a){var b=null;null!=a.eb?b=!a.eb:a.h.isReady()&&(b=!1);return null!=a.Ka&&null!=b?new W(a.Ka,b):null}
Le.prototype.hd=function(){var a=this,b=Se(this);if(b)return b;for(var c=Array.prototype.slice.call(this.h.getRootNode().querySelectorAll("[itemscope][itemtype]")).filter(function(e){return a.Na.checkString(e.getAttribute("itemtype"),Ge)}),d=0;c[d]&&null==b;d++)b=c[d],null==this.eb&&(this.eb=Qe(this,b)),this.Ka||(this.Ka=this.cc(b)),b=Se(this);return b};Le.prototype.check=function(){return this.h.getBody()?this.hd():null};
function Ne(a,b){return(a=a.querySelector('meta[name="'+b+'"]'))?a.getAttribute("content"):null};function Te(a){var b=this;this.h=Ec(a);this.Da=this.Z=null;this.ie=new Promise(function(c){b.Da=c})}
Te.prototype.writeConfigWhenReady=function(a){var b=this;this.Z=a;this.h.whenReady().then(function(){a:if(b.Da){for(var c={productID:b.Z.isPartOfProductId,"@type":b.Z.isPartOfType},d={"@context":"http://schema.org","@type":b.Z.type,isAccessibleForFree:b.Z.isAccessibleForFree,isPartOf:c},e=b.h.getRootNode().querySelectorAll('script[type="application/ld+json"]'),g=0;g<e.length;g++){var h=e[g];if(h.textContent){var k=Kb(h.textContent);if(k){d=Array.isArray(k)?k[0]:k;d["@type"]=Ue(b,d["@type"],b.Z.type);
d.isAccessibleForFree=d.isAccessibleForFree||b.Z.isAccessibleForFree;d.isPartOf?(d.isPartOf["@type"]=Ue(b,d.isPartOf["@type"],b.Z.isPartOfType),d.isPartOf.productID=d.isPartOf.productID||b.Z.isPartOfProductId):d.isPartOf=c;h.textContent=JSON.stringify(k);b.Da();b.Da=null;break a}}}c=E(b.h.getWin().document,"script",{type:"application/ld+json"},JSON.stringify(d));b.h.getHead().appendChild(c);b.Da();b.Da=null}});return this.ie};
function Ue(a,b,c){if(!b&&!c)return[];if(!b)return c;if(!c)return b;var d=a.Lb(b),e=a.Lb(c),g=d.concat(e.filter(function(h){return 0>d.indexOf(h)}));return 1==g.length?g.pop():g}Te.prototype.Lb=function(a){return Array.isArray(a)?a:[a]};/*

 Copyright 2018 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS-IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Ve={LOCAL:"LOCAL",PREPROD:"PREPROD",PRODUCTION:"PRODUCTION",SANDBOX:"SANDBOX",TEST:"TEST",TIN:"TIN"},We={CARD:"CARD",TOKENIZED_CARD:"TOKENIZED_CARD",UPI:"UPI"},Xe={CRYPTOGRAM_3DS:"CRYPTOGRAM_3DS",PAN_ONLY:"PAN_ONLY"},Ye={ESTIMATED:"ESTIMATED",FINAL:"FINAL",NOT_CURRENTLY_KNOWN:"NOT_CURRENTLY_KNOWN"};function Ze(){this.Pe=X.contentWindow}Ze.prototype.postMessage=function(a,b){this.Pe.postMessage(a,b)};var X=null,$e=null,af=null,bf=null,cf=Date.now(),df=null,ef=!1,ff=[];
function gf(){X||(af=(window.gpayInitParams||{}).environment||"PRODUCTION",X=document.createElement("iframe"),X.src="https://pay"+("PREPROD"==af?"-preprod.sandbox":"SANDBOX"==af?".sandbox":"")+".google.com/gp/p/ui/payframe?origin="+window.location.origin+"&mid=%{merchantId}",Y({eventType:15,clientLatencyStartMs:Date.now()}),X.height="0",X.width="0",X.style.display="none",X.style.visibility="hidden",X.onload=function(){Y({eventType:17,clientLatencyStartMs:Date.now()});hf()},document.body?(document.body.appendChild(X),
$e=new Ze):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(X);$e=new Ze}))}function jf(a,b){function c(e){e.data.isReadyToPayResponse&&(b(e),window.removeEventListener("message",c))}window.addEventListener("message",c);var d=Object.assign({eventType:6},a);Y(d)}
function Y(a){if(ef){a=Object.assign({buyFlowActivityMode:df,googleTransactionId:bf,originTimeMs:cf},a);var b=$e,c=b.postMessage,d="https://pay";"SANDBOX"==af?d+=".sandbox":"PREPROD"==af&&(d+="-preprod.sandbox");c.call(b,a,d+".google.com")}else ff.push(a)}function hf(){ef=!0;ff.forEach(function(a){Y(a)});ff.length=0};function kf(a){this.I=a;this.Aa=null}kf.prototype.onResult=function(a){this.Aa=a};
kf.prototype.isReadyToPay=function(a){var b=lf(a);return new Promise(function(c){b.canMakePayment().then(function(d){window.sessionStorage.setItem("google.payments.api.storage.isreadytopay.result",d.toString());var e={result:d};2<=a.apiVersion&&a.existingPaymentMethodRequired&&(e.paymentMethodPresent=d);c(e)}).catch(function(){window.sessionStorage.getItem("google.payments.api.storage.isreadytopay.result")?c({result:"true"==window.sessionStorage.getItem("google.payments.api.storage.isreadytopay.result")}):
c({result:!1})})})};kf.prototype.prefetchPaymentData=function(a){lf(a,this.I,a.transactionInfo.currencyCode,a.transactionInfo.totalPrice)};kf.prototype.loadPaymentData=function(a){mf(this,a)};
function lf(a,b,c,d){var e={};a&&(e=JSON.parse(JSON.stringify(a)));e.apiVersion||(e.apiVersion=1);e.swg&&(e.allowedPaymentMethods=["CARD"]);b&&"TEST"==b&&(e.environment=b);return new PaymentRequest([{supportedMethods:["https://google.com/pay"],data:e}],{total:{label:"Estimated Total Price",amount:{currency:c||"USD",value:d||"0"}}})}
function mf(a,b){b=lf(b,a.I,b.transactionInfo&&b.transactionInfo.currencyCode||void 0,b.transactionInfo&&b.transactionInfo.totalPrice||void 0);a.Aa(b.show().then(function(c){c.complete("success");return c.details}).catch(function(c){c.statusCode="CANCELED";throw c;}))};function nf(){var a=window.document,b=this;this.h=a;this.X=a.createElement("gpay-graypane");of(this.X,{"z-index":2147483647,display:"none",position:"fixed",top:0,right:0,bottom:0,left:0,"background-color":"rgba(32, 33, 36, .6)"});this.yb=null;this.X.addEventListener("click",function(){if(b.yb)try{b.yb.focus()}catch(c){}})}nf.prototype.show=function(a){this.yb=a||null;this.h.body.appendChild(this.X);of(this.X,{display:"block",opacity:0});return pf(this.X,{opacity:1})};
nf.prototype.hide=function(){var a=this;this.yb=null;if(this.X.parentElement)return pf(this.X,{opacity:0}).then(function(){of(a.X,{display:"none"});a.h.body.removeChild(a.X)})};function of(a,b){for(var c in b)a.style.setProperty(c,b[c].toString(),"important")}
function pf(a,b){var c=a.ownerDocument.defaultView,d=a.style.transition||"";return(new Promise(function(e){c.setTimeout(function(){c.setTimeout(e,300);of(a,Object.assign({transition:"transform 300ms ease-out, opacity 300ms ease-out"},b))})})).then(function(){of(a,Object.assign({transition:d},b))})};function qf(){if(-1!=window.navigator.userAgent.indexOf("OPR/"))return!1;var a=window.navigator.userAgent.match(/Android/i),b=window.navigator.userAgent.match(/Chrome\/([0-9]+)\./i);return null!=a&&"PaymentRequest"in window&&"Google Inc."==window.navigator.vendor&&null!=b&&59<=Number(b[1])}function rf(a){if(2<=a.apiVersion){var b=sf(a);if(b&&1==b.length&&"CRYPTOGRAM_3DS"==b[0])return!0}return 1==a.allowedPaymentMethods.length&&"TOKENIZED_CARD"==a.allowedPaymentMethods[0]}
function tf(a,b){return 2<=a.apiVersion&&(a=sf(a))&&a.includes(b)?!0:!1}function uf(){return window.location.hostname.endsWith(".google.com")||void 0===window.isSecureContext?null:window.isSecureContext?null:"Google Pay APIs should be called in secure context!"}function vf(a){if(a.environment&&!Object.values(Ve).includes(a.environment))throw Error("Parameter environment in PaymentOptions can optionally be set to PRODUCTION, otherwise it defaults to TEST. "+a.environment);}
function wf(a){if(!a)return"isReadyToPayRequest must be set!";if(2<=a.apiVersion){if(!("apiVersionMinor"in a))return"apiVersionMinor must be set!";if(!a.allowedPaymentMethods||!Array.isArray(a.allowedPaymentMethods)||0==a.allowedPaymentMethods.length)return"for v2 allowedPaymentMethods must be set to an array containing a list of accepted payment methods";for(var b=0;b<a.allowedPaymentMethods.length;b++){var c=a.allowedPaymentMethods[b];if("CARD"==c.type){if(!c.parameters)return"Field parameters must be setup in each allowedPaymentMethod";
var d=c.parameters.allowedCardNetworks;if(!d||!Array.isArray(d)||0==d.length)return"allowedCardNetworks must be setup in parameters for type CARD";var e=c.parameters.allowedAuthMethods;if(!e||!Array.isArray(e)||0==e.length||!e.every(xf))return"allowedAuthMethods must be setup in parameters for type 'CARD'  and must contain 'CRYPTOGRAM_3DS' and/or 'PAN_ONLY'"}}}else if(!a.allowedPaymentMethods||!Array.isArray(a.allowedPaymentMethods)||0==a.allowedPaymentMethods.length||!a.allowedPaymentMethods.every(yf))return"allowedPaymentMethods must be set to an array containing 'CARD' and/or 'TOKENIZED_CARD'!";
return null}function yf(a){return Object.values(We).includes(a)}function xf(a){return Object.values(Xe).includes(a)}
function Af(a){if(!a)return"paymentDataRequest must be set!";if(a.swg)return(a=a.swg)?a.skuId&&a.publicationId?null:"Both skuId and publicationId must be provided":"Swg parameters must be provided";if(a.transactionInfo)if(a.transactionInfo.currencyCode){if(!a.transactionInfo.totalPriceStatus||!Object.values(Ye).includes(a.transactionInfo.totalPriceStatus))return"totalPriceStatus in transactionInfo must be set to one of NOT_CURRENTLY_KNOWN, ESTIMATED or FINAL!";if("NOT_CURRENTLY_KNOWN"!==a.transactionInfo.totalPriceStatus&&
!a.transactionInfo.totalPrice)return"totalPrice in transactionInfo must be set when totalPriceStatus is ESTIMATED or FINAL!"}else return"currencyCode in transactionInfo must be set!";else return"transactionInfo must be set!";var b=Bf(a);if(b){if(!b.parameters)return"parameters must be set in allowedPaymentMethod!";b=b.parameters;if(b.payeeVpa)if(b.payeeName)if(b.referenceUrl){if(!b.mcc)return"mcc in allowedPaymentMethod parameters must be set!";if(!b.transactionReferenceId)return"transactionReferenceId in allowedPaymentMethod parameters must be set!"}else return"referenceUrl in allowedPaymentMethod parameters must be set!";
else return"payeeName in allowedPaymentMethod parameters must be set!";else return"payeeVpa in allowedPaymentMethod parameters must be set!";if("INR"!==a.transactionInfo.currencyCode)return"currencyCode in transactionInfo must be set to INR!";if("FINAL"!==a.transactionInfo.totalPriceStatus)return"totalPriceStatus in transactionInfo must be set to FINAL!";if(!a.transactionInfo.transactionNote)return"transactionNote in transactionInfo must be set!"}return null}
function Bf(a){return!qf()||2>a.apiVersion||!a.allowedPaymentMethods?null:Cf(a,"UPI")}function sf(a){return a.allowedPaymentMethods&&(a=Cf(a,"CARD"))&&a.parameters?a.parameters.allowedAuthMethods:null}function Cf(a,b){for(var c=0;c<a.allowedPaymentMethods.length;c++){var d=a.allowedPaymentMethods[c];if(d.type==b)return d}return null};function Df(a,b,c){var d=Ef;this.I=a;this.activities=b||new Cb(window);this.da=new nf;this.Ue=this.Aa=null;this.Yc=!1;this.me=this.o=null;this.Se=d;this.Zd=c||null;this.ab=null}f=Df.prototype;f.onResult=function(a){this.Aa||(this.Aa=a,this.activities.onResult("GPAY",this.Ce.bind(this)))};
f.Ce=function(a){var b=this;this.da.hide();this.Aa(a.acceptResult().then(function(c){if(c.origin!=Ff(b))throw Error("channel mismatch");var d=c.data;if(d.redirectEncryptedCallbackData)return df=3,Gf(b,d.redirectEncryptedCallbackData).then(function(e){var g=Object.assign({},d);delete g.redirectEncryptedCallbackData;return Object.assign(g,e)});if(!c.originVerified||!c.secureChannel)throw Error("channel mismatch");return d},function(c){var d=c.message,e=c.message;try{e=JSON.parse(d.substring(7))}catch(g){}e.statusCode&&
-1==["DEVELOPER_ERROR","MERCHANT_ACCOUNT_ERROR"].indexOf(e.statusCode)&&(e={statusCode:"CANCELED"});"AbortError"==e&&(e={statusCode:"CANCELED"});return Promise.reject(e)}))};
function Gf(a,b){return new Promise(function(c,d){var e=Hf(a),g=new XMLHttpRequest;g.open("POST",e,!0);"withCredentials"in g&&(g.withCredentials=!0);g.onreadystatechange=function(){if(!(2>g.readyState))if(100>g.status||599<g.status)g.onreadystatechange=null,d(Error("Unknown HTTP status "+g.status));else if(4==g.readyState)try{c(JSON.parse(g.responseText))}catch(h){d(h)}};g.onerror=function(){d(Error("Network failure"))};g.onabort=function(){d(Error("Request aborted"))};g.send(b)})}
f.isReadyToPay=function(a){var b=this;return new Promise(function(c){if(rf(a))c({result:!1});else{var d=window.navigator.userAgent;if(0<d.indexOf("GSA/")&&0<d.indexOf("Safari"))c({result:!1});else if(0<d.indexOf("FxiOS"))c({result:!1});else{var e=0<d.indexOf("Chrome")||0<d.indexOf("Firefox")||0<d.indexOf("Safari");e&&2<=a.apiVersion&&a.existingPaymentMethodRequired?(a.environment=b.I,jf(a,function(g){var h={result:e};a.existingPaymentMethodRequired&&(h.paymentMethodPresent="READY_TO_PAY"==g.data.isReadyToPayResponse);
c(h)})):c({result:e})}}})};f.prefetchPaymentData=function(){};f.loadPaymentData=function(a){a.swg||a.apiVersion||(a.apiVersion=1);a.environment=this.I;df=a.forceRedirect?3:2;a=this.activities.open("GPAY","TIN"==this.I?"/ui/pay":Ff(this)+"/gp/p/ui/pay",a.forceRedirect?"_top":"gp-js-popup",a,{width:600,height:600});this.da.show(a&&a.targetWin)};function Ff(a){return"LOCAL"==a.I?"":"https://"+("PREPROD"==a.I?"pay-preprod.sandbox":"SANDBOX"==a.I?"pay.sandbox":"pay")+".google.com"}
function Hf(a){var b=Ff(a)+"/gp/p/apis/buyflow/process";a.Zd&&(b+="?rk="+encodeURIComponent(a.Zd));return b}f.getIframeUrl=function(a,b){var c="https://pay.google.com/gp/p/ui/pay?origin="+b;if("SANDBOX"==a||"PREPROD"==a)c="https://pay'+  (environment == Constants.Environment.PREPROD ? '-preprod' : '')+  '.sandbox.google.com/gp/p/ui/pay?origin="+b;return c};function If(a,b){Jf(b,"all 250ms ease 0s");b.height="0px";setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a)},250)}
f.Te=function(){var a=document.createElement("div");a.classList.add("google-payments-dialogContainer");var b=document.createElement("div");b.classList.add("iframeContainer");var c=document.createElement("iframe");c.classList.add("google-payments-dialog");c.setAttribute("frameborder","0");c.setAttribute("scrolling","no");b.appendChild(c);a.appendChild(b);document.body.appendChild(a);a={container:a,iframe:c};b=a.iframe;c=a.container;c.addEventListener("click",this.ee.bind(this,a));c.style.display="none";
b.style.display="none";b.height="0px";Jf(b,"all 250ms ease 0s");this.Yc=!1;return a};f.Qe=function(a){a.container.parentNode&&(this.me(Promise.reject({errorCode:"CANCELED"})),If(a.container,a.iframe),this.o&&this.o.disconnect())};f.ee=function(a){a.container.parentNode&&history.back()};
f.Ve=function(a,b){var c=this;a.style.display="block";b.style.display="block";setTimeout(function(){b.height="280px";setTimeout(function(){c.Yc=!0;c.ab&&(Jf(b,c.ab.transition),b.height=c.ab.height,c.ab=null)},250)},1)};function Jf(a,b){a.style.setProperty("transition",b);a.style.setProperty("-webkit-transition",b)}
f.Gc=function(a){var b=this,c,d=this.getIframeUrl(this.I,window.location.origin);return this.activities.openIframe(void 0,d,void 0).then(function(e){b.o=e;e.onMessage(function(g){"resize"===g.type&&b.Yc?(c||(c=Date.now()),Date.now()<c+250?Jf(void 0,g.transition+", height 250ms"):Jf(void 0,g.transition)):b.ab={height:g.height,transition:g.transition}});return e.acceptResult()}).then(function(e){If(a,void 0);history.back();return e.data},function(e){If(a,void 0);history.back();return Promise.reject(e)})};function Kf(){}Kf.prototype.isUpiRequest=function(a){return!!Bf(a)};Kf.prototype.isReadyToPay=function(a){if(Bf(a))return a.existingPaymentMethodRequired?Promise.resolve({result:!0,paymentMethodPresent:!0}):Promise.resolve({result:!0});throw Error("No Upi payment method found in handler");};
Kf.prototype.loadPaymentData=function(a,b,c){var d=b.parameters,e=a.transactionInfo,g=[{supportedMethods:["https://tez.google.com/pay"],data:{pa:d.payeeVpa,pn:d.payeeName,tr:d.transactionReferenceId,url:d.referenceUrl,mc:d.mcc,tn:e.transactionNote}}];d.transactionId&&(g[0].data.tid=d.transactionId);var h=new PaymentRequest(g,{total:{label:"Total",amount:{currency:e.currencyCode,value:e.totalPrice}},displayItems:[{label:"Original Amount",amount:{currency:e.currencyCode,value:e.totalPrice}}]});c(Lf(h).then(function(k){k?
k=Mf(h):(window.location.replace("https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user"),k=Promise.reject({errorMessage:"Cannot redirect to Tez page in Google Play."}));return k}).then(function(k){var l=JSON.parse(k.tezResponse);if("FAILURE"===l.Status){switch(l.responseCode){case "ZM":l={errorCode:3,errorMessage:"Payment failure due to invalid MPIN."};break;case "Z9":l={errorCode:3,errorMessage:"Payment failure due to insufficient funds."};break;case "91":l={errorCode:1,
errorMessage:"Payment failure due to transaction timeout or connection issue."};break;default:l={errorMessage:"Payment cancelled."}}l=Promise.reject(l)}else l=Promise.resolve({apiVersion:a.apiVersion,apiVersionMinor:a.apiVersionMinor,paymentMethodData:{type:b.type,tokenizationData:{type:"DIRECT",token:{protocolVersion:"ECv1",signature:"",signedMessage:{paymentMethodType:"UPI",payeeVpa:b.parameters.payeeVpa,status:l.Status,transactionReferenceId:b.parameters.transactionReferenceId,transactionId:b.parameters.transactionId?
b.parameters.transactionId:l.txnId,transactionInfo:a.transactionInfo}}}}});return l}).catch(function(k){k.statusCode="CANCELED";return Promise.reject(k)}))};function Mf(a){return a.show().then(function(b){b.complete("success");return b.details})}
function Lf(a){var b=window.sessionStorage.getItem("google.payments.api.storage.upi.canMakePaymentCache");return b?Promise.resolve("true"===b):a.canMakePayment?a.canMakePayment().then(function(c){c&&window.sessionStorage.setItem("google.payments.api.storage.upi.canMakePaymentCache",c.toString());return c}):Promise.resolve(!0)};/*

Math.uuid.js (v1.4)
http://www.broofa.com
mailto:robert@broofa.com
Copyright (c) 2010 Robert Kieffer
Dual licensed under the MIT and GPL licenses.
*/
var Nf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");function Of(a){for(var b=Array(36),c=0,d,e=0;36>e;e++)8==e||13==e||18==e||23==e?b[e]="-":14==e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=Nf[19==e?d&3|8:d]);return b.join("")+"."+a};var Pf="actions.google.com amp-actions.sandbox.google.com amp-actions-staging.sandbox.google.com amp-actions-autopush.sandbox.google.com payments.developers.google.com payments.google.com".split(" ");
function Qf(a,b,c){this.Td=b;vf(a);this.Md=null;this.I=a.environment||"TEST";Ef||(Ef=-1!=Pf.indexOf(window.location.hostname)&&a.i&&a.i.googleTransactionId?a.i.googleTransactionId:Of(this.I));this.Ee=a;this.ya=new Df(this.I,c,a.i&&a.i.redirectKey);this.Ma=5;var d=qf();this.Ra=d?new kf(this.I):this.ya;this.jd=new Kf;this.ya.onResult(this.Dc.bind(this));this.Ra.onResult(this.Dc.bind(this));gf();d&&(df=4);bf=Ef;Y({eventType:9,clientLatencyStartMs:Date.now()});window.addEventListener("message",function(e){-1!=
Pf.indexOf(window.location.hostname)&&"logPaymentData"===e.data.name&&Y(e.data.data)})}var Ef;f=Qf.prototype;f.isReadyToPay=function(a){a&&(a=Object.assign({},this.Ee,a));var b=Date.now(),c=uf()||wf(a);if(c)return new Promise(function(e,g){Rf("isReadyToPay",c);Y({eventType:0,error:2});g({statusCode:"DEVELOPER_ERROR",statusMessage:c})});var d=Sf(this,a);d.then(function(e){Y({eventType:0,clientLatencyStartMs:b,isReadyToPayApiResponse:e});return e});return d};
function Sf(a,b){if(a.jd.isUpiRequest(b))return a.jd.isReadyToPay(b);if(qf()&&!Tf(b)){if(2<=b.apiVersion)return Uf(a,b);var c=a.ya.isReadyToPay(b),d=a.Ra.isReadyToPay(b);return rf(b)?d:d.then(function(){return c})}return a.ya.isReadyToPay(b)}
function Uf(a,b){var c=Promise.resolve({result:!1});b.existingPaymentMethodRequired&&(c=Promise.resolve({result:!1,paymentMethodPresent:!1}));var d=c;if(tf(b,"CRYPTOGRAM_3DS")){var e=JSON.parse(JSON.stringify(b));for(d=0;d<e.allowedPaymentMethods.length;d++)"CARD"==e.allowedPaymentMethods[d].type&&(e.allowedPaymentMethods[d].parameters.allowedAuthMethods=["CRYPTOGRAM_3DS"]);d=a.Ra.isReadyToPay(e)}var g=c;tf(b,"PAN_ONLY")&&(g=a.ya.isReadyToPay(b));return d.then(function(h){return 1==(h&&h.result)?
h:g})}f.prefetchPaymentData=function(a){var b=uf()||Af(a);b?Rf("prefetchPaymentData",b):(Vf(a),qf()&&!Tf(a)?this.Ra.prefetchPaymentData(a):this.ya.prefetchPaymentData(a))};
f.loadPaymentData=function(a){var b=this;Y({eventType:5});var c=uf()||Af(a);this.Ma=a&&a.swg?6:5;if(c)this.Td(new Promise(function(e,g){Y({eventType:1,error:2,buyFlowMode:b.Ma});Rf("loadPaymentData",c);g({statusCode:"DEVELOPER_ERROR",statusMessage:c})}));else{var d=Bf(a);d?this.jd.loadPaymentData(a,d,this.Dc.bind(this)):(this.Md=Date.now(),Vf(a),Tf(a)?this.ya.loadPaymentData(a):this.Ra.loadPaymentData(a))}};function Rf(a,b){console.error("DEVELOPER_ERROR in "+a+" : "+b)}
f.createButton=function(){var a=Date.now();Y({eventType:2,clientLatencyStartMs:a});return null};f.Dc=function(a){var b=this;a.then(function(){Y({eventType:1,clientLatencyStartMs:b.Md,buyFlowMode:b.Ma})}).catch(function(c){c.errorCode?Y({eventType:1,error:c.errorCode,buyFlowMode:b.Ma}):Y({eventType:1,error:6,buyFlowMode:b.Ma})});this.Td(a)};function Vf(a){var b={startTimeMs:Date.now(),googleTransactionId:Ef};a.i=a.i?Object.assign(b,a.i):b}function Tf(a){return!0===(a.i&&a.i.disableNative)};function Wf(a){this.h=a}Wf.prototype.preconnect=function(a){Xf(this,a,"preconnect")};Wf.prototype.dnsPrefetch=function(a){Xf(this,a,"dns-prefetch")};Wf.prototype.prefetch=function(a){Xf(this,a,"preconnect prefetch")};Wf.prototype.preload=function(a,b){Xf(this,a,"preconnect preload",b)};function Xf(a,b,c,d){var e=E(a.h,"link",{rel:c,href:b});d&&e.setAttribute("as",d);a.h.head.appendChild(e)};var Yf={PRODUCTION:"https://pay.google.com",SANDBOX:"https://pay.sandbox.google.com"};function Zf(a){this.g=a.win();this.m=a.activities();this.Uc=this.Rc=this.Tc=null;this.rd=a.analytics();this.Oc=new $f(this.g);this.jb=null;this.Wd=new Wf(this.g.document);var b;if(b=M(this.g,"pay-client-redirect")){var c=this.g.location.hash;b=/redirectEncryptedCallbackData/.test(c);c=/swgRequest/.test(c);b=b&&c}b&&(this.preconnect(this.Wd),ag(this));this.Oc.prepare();this.B=a.eventManager()}f=Zf.prototype;
f.preconnect=function(a){a.prefetch(I(Yf[J().payEnv]+"/gp/p/ui/pay","_",$b()));a.prefetch("https://payments.google.com/payments/v4/js/integrator.js?ss=md");a.prefetch("https://clients2.google.com/gr/gr_full_2.0.6.js")};function ag(a){var b={environment:J().payEnv,i:{redirectKey:a.Oc.restoreKey()}};var c=a.rd.getTransactionId(),d=a.ue.bind(a);Ef=c;b=new Qf(b,d,a.m.getOriginalWebActivityPorts());a.jb=b}f.getType=function(){return"PAYJS"};
f.start=function(a,b){var c=this;b=void 0===b?{}:b;this.Rc=a;this.jb||(this.preconnect(this.Wd),ag(this));b.forceRedirect&&(a=Object.assign(a,{forceRedirect:b.forceRedirect||!1}));bg(a,"disableNative",b.forceDisableNative||this.g!=this.g.top);var d=null,e=new Promise(function(g){return d=g});this.Oc.useVerifier(function(g){g&&bg(a,"redirectVerifier",g);if(b.forceRedirect){var h=c.jb;c.B.getReadyPromise().then(function(){c.rd.getLoggingPromise().then(function(){h.loadPaymentData(a);d(!0)})})}else c.jb.loadPaymentData(a),
d(!0)});return e};f.onResponse=function(a){var b=this;this.Tc=a;var c=this.Uc;c&&Promise.resolve().then(function(){c&&a(cg(b,c,b.Rc))})};f.ue=function(a){this.Uc=a;this.Tc&&this.Tc(cg(this,this.Uc,this.Rc))};function cg(a,b,c){return b.then(function(d){c&&(d.paymentRequest=c);return d}).catch(function(d){return"object"==typeof d&&"CANCELED"==d.statusCode?(d=cb(a.g,void 0),d.productType=c?c.i.productType:null,Promise.reject(d)):Promise.reject(d)})}
function $f(a){this.g=a;this.wb=!1;this.Za=this.Hc=null}$f.prototype.prepare=function(){return dg(this,function(){})};$f.prototype.useVerifier=function(a){var b=this;dg(this,function(c){if(c)try{b.g.localStorage.setItem("subscribe.google.com:rk",c.key)}catch(d){c=null}a(c&&c.verifier||null)})};$f.prototype.restoreKey=function(){try{return this.g.localStorage&&this.g.localStorage.getItem("subscribe.google.com:rk")||null}catch(a){return null}};
function dg(a,b){eg(a);a.wb?b(a.Hc):a.Za&&a.Za.then(function(c){return b(c)});return a.Za}
function eg(a){if(!a.wb&&!a.Za){try{var b=!!a.g.localStorage}catch(d){b=!1}var c=a.g.crypto;b&&c&&c.getRandomValues&&c.subtle&&c.subtle.digest?a.Za=(new Promise(function(d,e){var g=new Uint8Array(16);c.getRandomValues(g);var h=btoa(Na(g));c.subtle.digest({name:"SHA-384"},Ma(h)).then(function(k){k=btoa(Na(new Uint8Array(k)));d({key:h,verifier:k})},function(k){e(k)})})).catch(function(){return null}).then(function(d){a.wb=!0;return a.Hc=d}):(a.wb=!0,a.Hc=null)}}
function bg(a,b,c){var d={};a.i=Object.assign(a.i||{},(d[b]=c,d))};function fg(a){this.g=a;this.cb={}}fg.prototype.get=function(a,b){var c=this;b=void 0===b?!1:b;this.cb[a]||(this.cb[a]=new Promise(function(d){var e=b?c.g.localStorage:c.g.sessionStorage;if(e)try{d(e.getItem(gg(a)))}catch(g){d(null)}else d(null)}));return this.cb[a]};fg.prototype.set=function(a,b,c){var d=this;c=void 0===c?!1:c;this.cb[a]=Promise.resolve(b);return new Promise(function(e){var g=c?d.g.localStorage:d.g.sessionStorage;if(g)try{g.setItem(gg(a),b)}catch(h){}e()})};
fg.prototype.remove=function(a,b){var c=this;b=void 0===b?!1:b;delete this.cb[a];return new Promise(function(d){var e=b?c.g.localStorage:c.g.sessionStorage;if(e)try{e.removeItem(gg(a))}catch(g){}d()})};function gg(a){return"subscribe.google.com:"+a};function hg(a,b){b=void 0===b?!1:b;this.j=a;this.g=a.win();this.m=a.activities();this.ob=b}hg.prototype.start=function(){var a=this;return this.j.entitlementsPromise().then(function(b){var c=ig(b);return a.Gc(c)}).catch(function(){return a.Gc(!0)})};
hg.prototype.Gc=function(a){a=void 0===a?!0:a;var b=this.ob?"/thankoffersshortenediframe":"/thankoffersiframe",c={publicationId:this.j.pageConfig().getPublicationId(),origin:this.j.getOrigin(),canonicalUrl:this.j.canonicalUrl(),readerSurface:this.j.getReaderSurface(),colorTheme:this.j.getColorTheme()};this.ob&&(c.e="48430155");a=new F(this.g,this.m,K(b,c),L({contentId:this.j.canonicalUrl(),contentTitle:this.j.postTitle(),enableFreeStickers:a,supportsEventManager:!0,publicationId:this.j.pageConfig().getPublicationId(),
analyticsContext:this.j.analytics().getContext().toArray()}),!this.ob);return this.j.openDialog(a,this.ob)};function ig(a){var b=0;a.entitlements.forEach(function(c){c=c.subscriptionToken;var d=Lb(c,"orderId")||null,e=Lb(c,"purchaseTime")||null;if(d&&e){var g=(new Date).getTime()-864E5;-1<d.indexOf("SWGF")&&e>g&&(b+=1)}});return 5>b};function Z(a,b,c){c=void 0===c?!1:c;this.j=a;var d={publicationId:a.pageConfig().getPublicationId(),origin:a.getOrigin(),canonicalUrl:b?a.getOrigin():a.canonicalUrl(),isSiteLevel:b,displayInDialog:c,readerSurface:a.getReaderSurface(),colorTheme:a.getColorTheme()};c&&(d.hideBackButton=!0);this.u=new F(a.win(),a.activities(),K("/thankwalliframe",d),L({contentId:this.j.canonicalUrl(),contentTitle:this.j.postTitle(),supportsEventManager:!0,publicationId:a.pageConfig().getPublicationId(),analyticsContext:a.analytics().getContext().toArray()}),
c)}Z.prototype.open=function(a){var b=this,c=new ld(this.j.doc(),{height:"100%","max-height":"100%",position:"relative",width:"100%","z-index":"1"},{iframeCssClassOverride:"thank-wall-container"});this.u.on(z,this.De.bind(this));return c.openInContainer(a).then(function(d){return d.openView(b.u)})};Z.prototype.openInDialog=function(){return this.j.openDialog(this.u)};
Z.prototype.De=function(a){var b=a.getUrlPath();b.match(/[a-z]{4,5}offersiframe/)?(this.j.setIsSiteLevelDialogOpened(!0),this.j.openThankFlow()):b.match(/[a-z]{4,5}walliframe/)?(this.j.setIsSiteLevelDialogOpened(!0),this.j.openThankWallDialog()):b.match(/about[a-z]{4,5}siframe/)&&(a=new F(this.j.win(),this.j.activities(),K("/aboutthanksiframe"),L({}),!0),this.j.openDialog(a))};Z.prototype.sendReloadRequest=function(a){this.u.execute(a)};function jg(a){this.j=a;this.g=a.win();this.m=a.activities()}jg.prototype.openIframe=function(a,b,c,d){a={publicationId:this.j.pageConfig().getPublicationId(),origin:G(this.g.location.href).origin,canonicalUrl:this.j.canonicalUrl(),productType:"VIRTUAL_GIFT",offerId:a,isAnonymous:b,isPaid:!1,checkOrderStatus:!0,colorTheme:this.j.getColorTheme()};d=new F(this.g,this.m,K("/payconfirmiframe",a),L({orderId:c,swgUserToken:d,contentTitle:this.j.postTitle(),supportsEventManager:!0}),!0);return this.j.openDialog(d)};function kg(a){var b=this;this.g=a;this.h=Ec(a);this.Gb=Promise.resolve();this.Ea={};this.Ab=this.Jc=this.T=void 0;this.kb=this.nb=!1;this.Fa=null;this.O=new Promise(function(c){b.Fa=c});this.Ya=this.vb=this.Re=null;this.ua={}}f=kg.prototype;f.whenReady=function(){return this.Gb};
function lg(a,b){b=void 0===b?!0:b;a.kb||a.vb?a.Ya&&a.Ya.check():(a.kb=!0,a.Ya=new Ie(a.h),a.Ya.resolveConfig().then(function(c){a.Ya=null;a.Fa(new mg(a.h,c,{configPromise:a.O},a.Ea,a.T,a.Jc,a.Ab,a.nb,b,a.Oa,a.ua));a.Fa=null},function(c){a.Fa(Promise.reject(c));a.Fa=null}));return a.O}f.init=function(a,b,c){var d=this;b=void 0===b?!1:b;c=void 0===c?!0:c;if(a.isPartOfProductId)return b?this.clearConfig().then(function(){return ng(d,a,c)}):ng(this,a,c)};
function ng(a,b,c){c=void 0===c?!0:c;a.vb=new Te(a.h);a.T=b.clientOptions;a.Oa=b.colorTheme;a.Jc=b.permalink;a.Ab=b.postTitle;a.ua=b.promptSettings;var d;a.nb="floating"===b.buttonPosition||!!b.forceEnableAutoPrompt||"floating"===(null==(d=b.promptSettings)?void 0:d.style);return a.vb.writeConfigWhenReady({type:b.type,isAccessibleForFree:!0,isPartOfType:b.isPartOfType,isPartOfProductId:b.isPartOfProductId}).then(function(){a.vb=null;return lg(a,c)})}
f.clearConfig=function(){var a=this;if(!this.kb)return Promise.resolve();var b=this.O.then();this.kb=!1;this.O=new Promise(function(c){a.Fa=c});return b.then(function(c){c.clearConfig()})};f.addFloatingTwgButton=function(){this.O.then(function(a){a.addFloatingTwgButton()})};f.addInlineTwgButton=function(a){a=void 0===a?null:a;this.O.then(function(b){b.addInlineTwgButton(a)})};f.removeTwgButtons=function(){this.O.then(function(a){a.removeTwgButtons()})};f.addTwgCounter=function(){this.O.then(function(a){a.addTwgCounter()})};
f.removeTwgCounter=function(){this.O.then(function(a){a.removeTwgCounter()})};f.addTwgThankWall=function(){this.O.then(function(a){a.addTwgThankWall()})};f.removeTwgThankWall=function(){this.O.then(function(a){a.removeTwgThankWall()})};
function mg(a,b,c,d,e,g,h,k,l,m,n){var p=this;g=void 0===g?"":g;h=void 0===h?"":h;k=void 0===k?!1:k;l=void 0===l?!0:l;m=void 0===m?"blue":m;n=void 0===n?{}:n;this.P=b;this.h=Ec(a);this.g=this.h.getWin();this.Jc=g;this.Fd=!!h;this.Ab=h;var w="tenor"===this.getReaderSurface()||this.Fd;this.nb=k&&w;this.Vb=g;a=document.querySelector("link[rel='canonical']");null!==a&&a.href&&(this.Vb=document.querySelector("link[rel='canonical']").href.replace(/\/$/,""));this.Id=new Vd(this.h);c=c||{};c.configPromise=
c.configPromise||Promise.resolve();c.fetcher=c.fetcher||new Qc(this.g);this.L=c.fetcher;this.s=new fg(this.g);this.F=new sd(this.h);this.N=new Xc;this.m=new kc(this);this.B=new pc;this.V=new wc(this,this.L);this.Ic=new Zf(this);this.Ea={windowOpenMode:"auto",analyticsMode:0,enableSwgAnalytics:!1,enablePropensity:!1};this.A=new dd(this,b.getPublicationId(),this.L,e);ab(this.g)&&(this.Ea.windowOpenMode="redirect");d&&og(this,d);this.pe=new Ud(this);this.pe.start();this.H=new Kd(this.g,this.P,this.L,
this);this.Cd=this.H.getEntitlements();this.Cd.then(function(){p.V.setReadyForLogging();p.V.start()});this.A.fetchClientConfig().then(function(q){q.uiPredicates&&q.uiPredicates.canDisplayButton?p.eventManager().logSwgEvent(29,!1):(A("Publication set up is not complete."),p.eventManager().logSwgEvent(33,!1))});this.Jb=null;this.qa=!1;this.Oa=m;this.ua=n;this.Tb=new Rc(this.h,this,this.L);this.H.getExperimentConfigFlags().then(function(q){0<q.length&&og(p,{experiments:q});p.Tb.init()});l&&this.maybeSetUpThanks();
this.be=new Be(this,{colorTheme:m,promptSettings:n});var x=new Wf(this.g.document);x.preconnect("https://www.gstatic.com/");x.preconnect("https://fonts.googleapis.com/");x.preconnect("https://www.google.com/");Yd(this);gc(this);$a(this.h,".swg-dialog,.swg-toast{box-sizing:border-box;background-color:#fff!important}.swg-toast{position:fixed!important;bottom:0!important;max-height:46px!important;z-index:2147483647!important;border:none!important}@media (min-width:871px) and (min-height:641px){.swg-dialog.swg-wide-dialog{width:870px!important;left:-435px!important}}@media (max-height:640px), (max-width:640px){.swg-dialog,.swg-toast{width:480px!important;left:-240px!important;margin-left:50vw!important;border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important}}@media (min-width:641px) and (min-height:641px){.swg-dialog{width:630px!important;left:-315px!important;margin-left:50vw!important;background-color:transparent!important;border:none!important}.swg-toast{border-radius:4px!important;bottom:8px!important;box-shadow:0 3px 1px -2px rgb(0 0 0/20%),0 2px 2px 0 rgb(0 0 0/14%),0 1px 5px 0 rgb(0 0 0/12%)!important;left:8px!important}}@media (max-width:480px){.swg-dialog,.swg-toast{width:100%!important;left:0!important;right:0!important;margin-left:0!important}}body.swg-disable-scroll{height:100%!important}body.swg-disable-scroll,body.swg-disable-scroll *{overflow:hidden!important}\n/*# sourceURL=/./third_party/swg-js/src/components/dialog.css*/");
this.m.onRedirectError(function(q){p.V.addLabels(["redirect"]);p.B.logSwgEvent(2E3,!1);p.Id.error("Redirect error",q)});this.callbacks().setOnPayConfirmOpened(function(q){var v=p.h.getRootNode().querySelector(".swg-dialog");v&&C(v,{height:pg(p),"min-height":pg(p)});qg(p,q)});this.ce=rg(this)}f=mg.prototype;f.clearConfig=function(){this.entitlementsManager().clear();this.dialogManager().completeAll();for(var a=this.h.getRootNode().querySelectorAll('script[type="application/ld+json"]'),b=0;b<a.length;b++)a[b].remove()};
f.addViewDetectionHandler=function(a,b){var c=this;(new IntersectionObserver(function(d,e){!(1>d.length)&&0<d[0].intersectionRatio&&(c.eventManager().logSwgEvent(b,!1),e.unobserve(a))},{threshold:.2})).observe(a)};
function rg(a){if("https://news.google.com"!==a.win().document.referrer.replace(/\/$/,""))return Promise.resolve();var b=H(a.win().location.search);return b.redirectData?a.H.getArticle().then(function(c){if((c=c.entitlements)&&c.swgUserToken){c=c.swgUserToken;var d=Jb(b.redirectData);(new jg(a)).openIframe(d.offerId,d.isAnonymous,d.externalOrderId,c)}}):Promise.resolve()}f.getCheckRedirectPromise=function(){return this.ce};
function sg(a){return a.clientConfigManager().getClientConfig().then(function(b){return b.uiPredicates?b.uiPredicates.canDisplayButton||!1:!1})}f.maybeSetUpThanks=function(){var a=this;return sg(this).then(function(b){b?(tg(a),ug(a)):vg(a)}).catch(function(){return vg(a)})};
function ug(a){if(M(a.g,"enable_twg_popup"))a.openThankFlow();else if(M(a.g,"enable_scroll_popup"))a.sb=a.sb.bind(a),a.g.addEventListener("scroll",a.sb);else if(M(a.g,"twg_pop_up_drawer_cta_experiment")||"high"===a.ua.floatingPromptProminence){var b=Number(a.g.sessionStorage.getItem("TwG.nextTimeToOpenDialogTimer"));Date.now()>b&&a.Fd&&(a.Fc=setTimeout(function(){return a.openThankFlow(!0)},2E4))}}
f.sb=function(){100<this.h.getRootElement().scrollTop&&(this.openThankFlow(),this.g.removeEventListener("scroll",this.sb))};
function tg(a){a.setupButtons();(a.nb||M(a.g,"twg_floating_tooltip_cta_experiment")||M(a.g,"twg_floating_tooltip_cta_experiment_no_delay")||M(a.g,"twg_floating_tooltip_cta_experiment_long_delay"))&&a.setupAndShowAutoPrompt({alwaysShow:!0,autoPromptType:"contribution"});var b=E(a.g.document,"img",{src:"https://news.google.com/thank/js/v1/loader.svg"});b.style.display="none";a.g.document.body.appendChild(b);b.onload=function(){a.setupThankWall()}}f.buttonApi=function(){return this.Tb};
f.setIsSiteLevelDialogOpened=function(a){this.qa=a};f.canonicalUrl=function(){var a=this.Vb||"";this.qa&&(a=G(this.Vb||"").origin);"about:srcdoc"===a&&(a=this.win().top.location.origin);return a};f.postTitle=function(){return this.qa?"":this.Ab||""};f.entitlementsPromise=function(){return this.Cd};f.doc=function(){return this.h};f.win=function(){return this.g};f.config=function(){return this.Ea};f.pageConfig=function(){return this.P};f.activities=function(){return this.m};f.clientConfigManager=function(){return this.A};
f.payClient=function(){return this.Ic};f.dialogManager=function(){return this.F};f.entitlementsManager=function(){return this.H};f.callbacks=function(){return this.N};f.storage=function(){return this.s};f.analytics=function(){return this.V};f.jserror=function(){return this.Id};f.eventManager=function(){return this.B};f.init=function(){};
function og(a,b){var c="",d;for(d in b){var e=b[d];switch(d){case "windowOpenMode":"auto"!=e&&"redirect"!=e&&(c="Unknown windowOpenMode: "+e);break;case "experiments":e.forEach(function(g){rc(a.g)[g]=!0});a.analytics()&&a.analytics().addLabels(e);break;case "analyticsMode":0!=e&&1!=e&&(c="Unknown analytics mode: "+e);break;default:c="Unknown config property: "+d}}B(!c,c||void 0);Object.assign(a.Ea,b)}
f.setupButtons=function(a){var b=this;a=void 0===a?null:a;this.Tb.attachButtonsAndCounter(function(){b.qa=!1;b.openThankFlow()}.bind(this),function(){b.qa=!1;(new Z(b,!1,!0)).openInDialog()}.bind(this),a)};f.setupAndShowAutoPrompt=function(a){var b=this;a.displayLargePromptFn=function(){b.qa=!1;return(new hg(b)).start()};return this.be.showAutoPrompt(a)};
f.setupThankWall=function(){var a=this.h.getRootNode().querySelector("div[twg-thank-wall]");a&&(this.Jb=new Z(this,!0),this.Jb.open(a),this.addViewDetectionHandler(a,3016),this.eventManager().logSwgEvent(28,!1))};f.addFloatingTwgButton=function(){this.setupAndShowAutoPrompt({alwaysShow:!0,autoPromptType:"contribution"})};f.addInlineTwgButton=function(a){this.setupButtons(void 0===a?null:a)};f.removeTwgButtons=function(){this.h.getRootNode().querySelectorAll(".twg-thank-button").forEach(function(a){a.parentNode.removeChild(a)})};
f.addTwgCounter=function(){this.setupButtons()};f.removeTwgCounter=function(){var a=this.h.getRootNode().querySelector("div[counter-button]");a&&(a.textContent="")};f.addTwgThankWall=function(){var a=this;return this.clientConfigManager().getClientConfig().then(function(){a.setupThankWall()},function(){var b=a.h.getRootNode().querySelector("div[twg-thank-wall]");b&&b.remove()})};f.removeTwgThankWall=function(){var a=this.h.getRootNode().querySelector("div[twg-thank-wall]");a&&(a.textContent="")};
function vg(a){var b=new IntersectionObserver(function(d,e){d.forEach(function(g){g.isIntersecting||(g=g.target,g.parentElement&&g.parentElement.removeChild(g))});e.disconnect()},{threshold:0}),c=a.h.getRootNode().querySelectorAll("div[twg-thank-wall], div.twg-thank-button, div[counter-button], button[twg-button]");c&&c.forEach(function(d){return b.observe(d)})}
f.openThankFlow=function(a){if(a=void 0===a?!1:a)this.B.logSwgEvent(3018,!1),sessionStorage.setItem("TwG.nextTimeToOpenDialogTimer",Date.now()+864E5);(new hg(this,a)).start()};f.openThankWallDialog=function(){(new Z(this,!0,!0)).openInDialog()};
f.openDialog=function(a,b){var c=this;b=void 0===b?!1:b;qg(this,a);var d={height:b?"276px":pg(this),width:Math.min(500,this.win().innerWidth)+"px"};this.Fc&&(clearTimeout(this.Fc),this.Fc=void 0);b&&(d["box-shadow"]="0 3px 5px rgba(0, 0, 0, 0.5)");640>this.win().innerWidth?(d["border-top-left-radius"]="8px",d["border-top-right-radius"]="8px"):(d["border-radius"]="8px",b&&(d.bottom="16px"));b={desktopConfig:{isCenterPositioned:!b},maxAllowedHeightRatio:1};return this.dialogManager().openDialog(!1,
b).then(function(e){C(e.getElement(),d);var g=e.getLoadingView().getElement();C(g,{"box-shadow":"none",height:"100%","max-width":"100%"});c.dialogManager().handleCancellations(a);return e.openView(a)})};f.getColorTheme=function(){return this.Oa};f.getOrigin=function(){var a=G(this.win().location.href).origin;return"about:srcdoc"===a?this.win().top.location.origin:a};f.getPromptSettings=function(){return this.ua};
f.getReaderSurface=function(){return-1<this.getOrigin().indexOf("tenor.com")?"tenor":"wordpress"};function pg(a){return Math.min(745,a.win().innerHeight)+"px"}function qg(a,b){b.on(za,a.Me.bind(a));b.on(u,function(c){a.Jb&&1===c.getAction()&&a.Jb.sendReloadRequest(c);a.qa||2!==c.getAction()||a.buttonApi().incrementCounter()})}
f.Me=function(a){var b=a.getSku();if(b){var c={skuId:b,oneTime:!0};c.metadata={contentId:this.canonicalUrl(),contentTitle:this.postTitle(),customMessage:a.getCustomMessage(),anonymous:a.getAnonymous(),readerSurface:this.getReaderSurface(),creatorSharingPolicy:"default",webSharingPolicy:a.getAnonymous()?"policy_anonymous":"policy_public"};(new dc(this,c)).start()}};
function wg(a){return{init:a.init.bind(a),clearConfig:a.clearConfig.bind(a),addFloatingTwgButton:a.addFloatingTwgButton.bind(a),addInlineTwgButton:a.addInlineTwgButton.bind(a),removeTwgButtons:a.removeTwgButtons.bind(a),addTwgCounter:a.addTwgCounter.bind(a),removeTwgCounter:a.removeTwgCounter.bind(a),addTwgThankWall:a.addTwgThankWall.bind(a),removeTwgThankWall:a.removeTwgThankWall.bind(a)}};Ia("Twg Runtime: 0.1-1661889034574");(function(a){function b(e){e&&c.whenReady().then(function(){e(d)})}if(!a.SWG_BASIC||Array.isArray(a.SWG_BASIC)){var c=new kg(a),d=wg(c);[].concat(a.SWG_BASIC).forEach(b);a.SWG_BASIC={push:b}}})(self);}).call(this);

//# sourceMappingURL=thank.js.map
